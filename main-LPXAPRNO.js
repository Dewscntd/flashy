import{d as Pe,e as or}from"./chunk-TQTOY5ED.js";import{A as nn,B as gr,C as fr,D as rn,E as hr,F as vr,G as on,H as Cr,I as an,J as br,K as _r,L as yr,N as Pr,O as xr,P as Or,Q as Mr,R as wr,a as zn,b as _e,c as ze,d as Qn,e as Qe,f as Gn,g as $n,h as Wn,j as ar,k as de,l as en,m as xe,n as sr,o as lr,p as rt,q as cr,r as it,s as ot,t as Oe,v as dr,w as tn,x as pr,y as mr,z as ur}from"./chunk-NVFLU44G.js";import{b as Hn,c as Vn}from"./chunk-MNPKUFH7.js";import{$ as rr,A as Yt,B as Xn,I as Zt,N as H,O as er,Q as nt,S as Jt,V as tr,_ as nr,a as $e,b as Kn,d as We,e as Ke,ea as ir,f as ye,fa as Xt,g as Yn,ga as ce,h as Ye,i as Ze,j as Zn,k as Je,l as Xe,n as et,o as Wt,p as Jn,r as le,s as tt,y as Kt,z as j}from"./chunk-6YBSMDBN.js";import{$ as Ue,$a as On,$b as Ce,A as re,Ab as Lt,Ac as jn,B as vn,Bb as Ht,Bc as Ge,Cb as he,Cc as K,D as Et,Db as Rn,Dc as Y,E as Rt,Eb as V,Fb as In,Gb as M,H as Ee,Ha as At,Hb as Un,Ib as b,J as Cn,Ja as Fe,Jb as Le,Ka as s,Kb as G,Lb as Vt,M as It,Mb as jt,N as ie,Nb as zt,O as Re,Oa as xn,P as bn,Pa as Nt,Pb as Qt,Q as _n,Qa as ue,Qb as J,Rb as Fn,Sb as m,Ta as Ae,Tb as F,Ub as y,Vb as Gt,W as u,Xb as N,Y as oe,Ya as O,Yb as ve,Z as Ie,Zb as d,_ as a,_a as A,_b as p,a as R,ab as Q,b as pe,bb as se,bc as An,ca as I,cb as L,da as U,db as ge,dc as be,ea as ae,eb as Ne,ec as Nn,f as gn,fa as yn,fc as $,ga as me,gb as Mn,gc as q,h as Te,ha as Pn,hc as Bn,i as fn,ib as fe,j as Se,ja as S,jb as wn,kb as kn,lb as Tn,m as St,mb as Sn,n as Dt,na as z,nb as C,nc as qn,oa as Ut,ob as D,oc as He,p as P,pb as E,pc as $t,qb as Dn,qc as Ln,r as De,rb as Be,s as T,sb as qe,sc as W,t as hn,tb as f,ua as Ft,ub as c,v as ee,vb as l,wb as v,x as te,xb as Bt,y as ne,yb as En,yc as Ve,zb as qt,zc as je}from"./chunk-NMTPRFMO.js";var Zr=(()=>{class r extends Qe{constructor(t,n,i){super(t,n,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||r)(Ie(me),Ie(_e),Ie(ze))};static \u0275prov=u({token:r,factory:r.\u0275fac})}return r})();function Jr(){return new Qn}function Xr(r,e,t){return new $n(r,e,t)}var kr=[{provide:ze,useFactory:Jr},{provide:Qe,useClass:Zr},{provide:Ae,useFactory:Xr,deps:[Hn,Qe,ue]}],Oo=[{provide:_e,useClass:zn},{provide:Ft,useValue:"NoopAnimations"},...kr],ei=[{provide:_e,useFactory:()=>new Gn},{provide:Ft,useFactory:()=>"BrowserAnimations"},...kr];function Tr(){return xn("NgEagerAnimations"),[...ei]}function ti(r){return()=>r.initialize()}var Sr={providers:[An(),jn(),Tr(),Wn,{provide:Mn,useFactory:ti,deps:[K],multi:!0}]};var ni=()=>[import("./chunk-W4TPVW4P.js").then(r=>r.QrCodePreviewComponent)],Dr=r=>({count:r});function ri(r,e){if(r&1&&(c(0,"div",5)(1,"strong",14),m(2),d(3,"translate"),l(),c(4,"p",15),d(5,"translate"),m(6),l()()),r&2){let t=b(2);s(2),F(p(3,3,"urlBuilder.preview.shortenedLabel")),s(2),C("aria-label",p(5,5,"urlBuilder.preview.aria.shortenedUrl")),s(2),y(" ",t.shortenedUrl()," ")}}function ii(r,e){r&1&&(v(0,"span",16),m(1),d(2,"translate")),r&2&&(s(),y(" ",p(2,1,"urlBuilder.preview.actions.shortening")," "))}function oi(r,e){r&1&&(m(0),d(1,"translate")),r&2&&y(" ",p(1,1,"urlBuilder.preview.actions.shorten")," ")}function ai(r,e){r&1&&(v(0,"span",16),m(1),d(2,"translate")),r&2&&(s(),y(" ",p(2,1,"urlBuilder.preview.actions.generating")," "))}function si(r,e){r&1&&(m(0),d(1,"translate")),r&2&&y(" ",p(1,1,"urlBuilder.preview.actions.regenerateQr")," ")}function li(r,e){r&1&&(m(0),d(1,"translate")),r&2&&y(" ",p(1,1,"urlBuilder.preview.actions.generateQr")," ")}function ci(r,e){if(r&1&&D(0,si,2,3)(1,li,2,3),r&2){let t=b(2);E(t.qrCodeVisible()?0:1)}}function di(r,e){if(r&1){let t=V();c(0,"app-qr-code-preview",17),M("downloadRequested",function(i){I(t);let o=b(3);return U(o.onQrCodeDownload(i))})("copyRequested",function(){I(t);let i=b(3);return U(i.onQrCodeCopy())})("optionsChanged",function(i){I(t);let o=b(3);return U(o.onQrCodeOptionsChange(i))}),l()}if(r&2){let t=b(3);f("qrData",t.getQrCodeUrl())("options",t.qrCodeOptions())("isLoading",t.qrCodeGenerating())("showControls",!0)}}function pi(r,e){r&1&&(c(0,"div",18),v(1,"div",16),c(2,"p"),m(3),d(4,"translate"),l()()),r&2&&(s(3),F(p(4,1,"urlBuilder.qrCode.generating")))}function mi(r,e){r&1&&(c(0,"div",19)(1,"p"),m(2),d(3,"translate"),l()()),r&2&&(s(2),F(p(3,1,"urlBuilder.qrCode.generating")))}function ui(r,e){if(r&1&&(c(0,"div",13)(1,"h3"),m(2),d(3,"translate"),l(),ge(4,di,1,4)(5,pi,5,3)(6,mi,4,3),fe(7,4,ni,5,6,null,0,null,Ne),l()),r&2){let t=b(2);s(2),F(p(3,2,"urlBuilder.qrCode.title")),s(5),wn(t.qrCodeVisible())}}function gi(r,e){if(r&1){let t=V();c(0,"div",3)(1,"p",4),d(2,"translate"),m(3),l(),D(4,ri,7,7,"div",5),c(5,"div",6)(6,"span",7),d(7,"translate"),m(8),d(9,"translate"),l(),c(10,"span",8),d(11,"translate"),m(12),d(13,"translate"),l()()(),c(14,"div",9)(15,"button",10),d(16,"translate"),M("click",function(){I(t);let i=b();return U(i.onCopy())}),m(17),d(18,"translate"),l(),c(19,"button",11),d(20,"translate"),M("click",function(){I(t);let i=b();return U(i.onShorten())}),D(21,ii,3,3)(22,oi,2,3),l(),c(23,"button",11),d(24,"translate"),M("click",function(){I(t);let i=b();return U(i.onQrCodeGenerate())}),D(25,ai,3,3)(26,ci,2,1),l(),c(27,"button",12),d(28,"translate"),M("click",function(){I(t);let i=b();return U(i.onSave())}),m(29),d(30,"translate"),l()(),D(31,ui,9,4,"div",13)}if(r&2){let t=e,n=b();s(),C("aria-label",p(2,19,"urlBuilder.preview.aria.generatedUrl")),s(2),y(" ",t.url," "),s(),E(n.shortenedUrl()?4:-1),s(2),C("aria-label",p(7,21,"urlBuilder.preview.aria.characterCount")),s(2),y(" ",Ce(9,23,"urlBuilder.preview.metadata.characters",ve(43,Dr,t.characterCount))," "),s(2),C("aria-label",p(11,26,"urlBuilder.preview.aria.parameterCount")),s(2),y(" ",Ce(13,28,"urlBuilder.preview.metadata.parameters",ve(45,Dr,t.parameterCount))," "),s(3),C("aria-label",p(16,31,"urlBuilder.preview.aria.copy")),s(2),y(" ",p(18,33,"urlBuilder.preview.actions.copy")," "),s(2),f("disabled",n.shorteningInProgress()),C("aria-label",p(20,35,"urlBuilder.preview.aria.shorten")),s(2),E(n.shorteningInProgress()?21:22),s(2),f("disabled",n.qrCodeGenerating()),C("aria-label",p(24,37,"urlBuilder.preview.aria.qr")),s(2),E(n.qrCodeGenerating()?25:26),s(2),f("disabled",n.saveDisabled()),C("aria-label",p(28,39,"urlBuilder.preview.aria.save")),s(2),y(" ",p(30,41,"urlBuilder.preview.actions.save")," "),s(2),E(n.qrCodeVisible()&&n.qrCodeOptions()?31:-1)}}function fi(r,e){r&1&&(c(0,"p",2),m(1),d(2,"translate"),l()),r&2&&(s(),y(" ",p(2,1,"urlBuilder.preview.placeholder")," "))}var at=class r{urlData=q(null);saveDisabled=q(!1);shorteningInProgress=q(!1);shortenedUrl=q(null);qrCodeVisible=q(!1);qrCodeGenerating=q(!1);qrCodeOptions=q(null);copyClicked=$();saveClicked=$();shortenClicked=$();qrCodeRequested=$();qrCodeDownloadRequested=$();qrCodeCopyRequested=$();qrCodeOptionsChanged=$();onCopy(){this.copyClicked.emit()}onSave(){this.saveDisabled()||this.saveClicked.emit()}onShorten(){this.shorteningInProgress()||this.shortenClicked.emit()}onQrCodeGenerate(){this.qrCodeRequested.emit()}onQrCodeDownload(e){this.qrCodeDownloadRequested.emit(e)}onQrCodeCopy(){this.qrCodeCopyRequested.emit()}onQrCodeOptionsChange(e){this.qrCodeOptionsChanged.emit(e)}getQrCodeUrl(){return this.shortenedUrl()||this.urlData()?.url||""}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=O({type:r,selectors:[["app-url-preview"]],inputs:{urlData:[1,"urlData"],saveDisabled:[1,"saveDisabled"],shorteningInProgress:[1,"shorteningInProgress"],shortenedUrl:[1,"shortenedUrl"],qrCodeVisible:[1,"qrCodeVisible"],qrCodeGenerating:[1,"qrCodeGenerating"],qrCodeOptions:[1,"qrCodeOptions"]},outputs:{copyClicked:"copyClicked",saveClicked:"saveClicked",shortenClicked:"shortenClicked",qrCodeRequested:"qrCodeRequested",qrCodeDownloadRequested:"qrCodeDownloadRequested",qrCodeCopyRequested:"qrCodeCopyRequested",qrCodeOptionsChanged:"qrCodeOptionsChanged"},decls:7,vars:7,consts:[[300,null],["role","region",1,"preview-container"],["role","status",1,"placeholder"],[1,"preview-box"],["role","text",1,"url-display"],[1,"shortened-url-section"],[1,"metadata"],[1,"char-count"],[1,"param-count"],[1,"actions"],["type","button","tuiButton","","appearance","flat","size","l",3,"click"],["type","button","tuiButton","","appearance","outline","size","l",3,"click","disabled"],["type","button","tuiButton","","appearance","primary","size","l",3,"click","disabled"],[1,"qr-code-section"],[1,"shortened-label"],["role","text",1,"shortened-url-display"],[1,"spinner"],[3,"downloadRequested","copyRequested","optionsChanged","qrData","options","isLoading","showControls"],["role","status",1,"qr-code-loading"],["role","status",1,"qr-code-placeholder"]],template:function(t,n){if(t&1&&(c(0,"aside",1),d(1,"translate"),c(2,"h2"),m(3),d(4,"translate"),l(),D(5,gi,32,47)(6,fi,3,3,"p",2),l()),t&2){let i;C("aria-label",p(1,3,"urlBuilder.preview.aria.region")),s(3),F(p(4,5,"urlBuilder.preview.title")),s(2),E((i=n.urlData())?5:6,i)}},dependencies:[W,ce,Y],styles:['.preview-container[_ngcontent-%COMP%]{border-radius:clamp(18px,3vw,26px);border:1px solid rgba(148,163,184,.22);padding:clamp(1.4rem,3vw,2.1rem);background:linear-gradient(140deg,#ffffffd9,#f0f7ff9e);transition:background var(--transition-normal),border-color var(--transition-normal);min-height:clamp(220px,32vh,320px);display:grid;gap:clamp(1rem,2.5vw,1.6rem)}[data-theme=dark][_nghost-%COMP%]   .preview-container[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .preview-container[_ngcontent-%COMP%]{background:linear-gradient(140deg,#0f172ad1,#111827ad);border-color:#94a3b859}.preview-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font:var(--tui-font-heading-5);letter-spacing:-.015em;color:var(--color-text-primary)}.preview-container[_ngcontent-%COMP%]   .preview-box[_ngcontent-%COMP%]{border-radius:14px;border:1px solid var(--color-surface-border);background:var(--color-surface-primary);padding:clamp(1rem,2.5vw,1.4rem);display:grid;gap:.9rem;position:relative}.preview-container[_ngcontent-%COMP%]   .preview-box[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:inherit;background:linear-gradient(120deg,rgba(255,255,255,.14),transparent 70%);pointer-events:none}.preview-container[_ngcontent-%COMP%]   .preview-box[_ngcontent-%COMP%]   .url-display[_ngcontent-%COMP%]{margin:0;font-family:JetBrains Mono,Courier New,monospace;font-size:.96rem;line-height:1.6;color:var(--color-text-secondary);word-break:break-word}.preview-container[_ngcontent-%COMP%]   .preview-box[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.4rem;font:var(--tui-font-text-xs);color:var(--color-text-tertiary)}.preview-container[_ngcontent-%COMP%]   .preview-box[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem}.preview-container[_ngcontent-%COMP%]   .preview-box[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";inline-size:8px;block-size:8px;border-radius:50%;background:var(--color-brand-primary)}.preview-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.85rem}.preview-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[tuiButton][_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;min-inline-size:clamp(8rem,20vw,10.5rem)}.preview-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{inline-size:16px;block-size:16px;border:3px solid rgba(255,255,255,.35);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .65s linear infinite}.preview-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:color-mix(in srgb,var(--color-text-tertiary) 75%,#fff 25%);font-style:italic;text-align:center;padding:2.25rem 1rem}.preview-container[_ngcontent-%COMP%]   .shortened-url-section[_ngcontent-%COMP%]{border-top:1px solid var(--color-surface-border);padding-top:1rem;display:grid;gap:.5rem}.preview-container[_ngcontent-%COMP%]   .shortened-url-section[_ngcontent-%COMP%]   .shortened-label[_ngcontent-%COMP%]{font:var(--tui-font-text-ui-s);text-transform:uppercase;letter-spacing:.12em;color:var(--color-text-primary)}.preview-container[_ngcontent-%COMP%]   .shortened-url-section[_ngcontent-%COMP%]   .shortened-url-display[_ngcontent-%COMP%]{margin:0;font-family:JetBrains Mono,Courier New,monospace;font-size:.95rem;color:color-mix(in srgb,var(--color-brand-primary) 78%,#1f2937 22%);word-break:break-word}.preview-container[_ngcontent-%COMP%]   .qr-code-section[_ngcontent-%COMP%]{border-top:1px solid var(--color-surface-border);padding-top:1.5rem;margin-top:1rem;display:grid;gap:1rem}.preview-container[_ngcontent-%COMP%]   .qr-code-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font:var(--tui-font-heading-6);letter-spacing:-.012em;color:var(--color-text-primary)}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 640px){.preview-container[_ngcontent-%COMP%]{padding:clamp(1.1rem,6vw,1.5rem)}.preview-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}.preview-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[tuiButton][_ngcontent-%COMP%]{justify-content:center;min-inline-size:unset;width:100%;min-height:48px;padding:.875rem 1.5rem}}@media (max-width: 360px){.preview-container[_ngcontent-%COMP%]{padding:1rem .875rem}.preview-container[_ngcontent-%COMP%]   .preview-box[_ngcontent-%COMP%]{padding:.875rem .75rem}.preview-container[_ngcontent-%COMP%]   .preview-box[_ngcontent-%COMP%]   .url-display[_ngcontent-%COMP%]{font-size:.875rem}.preview-container[_ngcontent-%COMP%]   .preview-box[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{gap:1rem;font-size:.75rem}.preview-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{gap:.875rem}.preview-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[tuiButton][_ngcontent-%COMP%]{min-height:44px;padding:.75rem 1.25rem;font-size:.875rem}.preview-container[_ngcontent-%COMP%]   .shortened-url-section[_ngcontent-%COMP%]   .shortened-url-display[_ngcontent-%COMP%]{font-size:.875rem}}'],changeDetection:0})};function Er(r,e){let t=r.get(e);return!!(t?.invalid&&t?.touched)}function vi(r,e){if(r&1&&(c(0,"small",12),m(1),l()),r&2){let t=b().$index,n=b(2);f("id","key-error-"+t),s(),y(" ",n.getErrorMessage(n.getParamGroup(t),"key")," ")}}function Ci(r,e){if(r&1&&(c(0,"small",12),m(1),l()),r&2){let t=b().$index,n=b(2);f("id","value-error-"+t),s(),y(" ",n.getErrorMessage(n.getParamGroup(t),"value")," ")}}function bi(r,e){if(r&1){let t=V();c(0,"div",7)(1,"div",8)(2,"div",9)(3,"label",10),m(4),d(5,"translate"),l(),v(6,"input",11),d(7,"translate"),D(8,vi,2,2,"small",12),l(),c(9,"div",9)(10,"label",10),m(11),d(12,"translate"),l(),v(13,"input",13),d(14,"translate"),D(15,Ci,2,2,"small",12),l()(),c(16,"button",14),d(17,"translate"),d(18,"translate"),M("click",function(){let i=I(t).$index,o=b(2);return U(o.handleRemove(i))}),m(19," \xD7 "),l()()}if(r&2){let t=e.$index,n=b(2);f("formGroup",n.getParamGroup(t)),s(3),f("for","param-key-"+t),s(),Gt(" ",p(5,19,"urlBuilder.form.customParams.key.label")," ",t+1," "),s(2),f("id","param-key-"+t)("placeholder",p(7,21,"urlBuilder.form.customParams.key.placeholder")),C("aria-invalid",n.hasError(n.getParamGroup(t),"key"))("aria-describedby",n.hasError(n.getParamGroup(t),"key")?"key-error-"+t:null),s(2),E(n.hasError(n.getParamGroup(t),"key")?8:-1),s(2),f("for","param-value-"+t),s(),Gt(" ",p(12,23,"urlBuilder.form.customParams.value.label")," ",t+1," "),s(2),f("id","param-value-"+t)("placeholder",p(14,25,"urlBuilder.form.customParams.value.placeholder")),C("aria-invalid",n.hasError(n.getParamGroup(t),"value"))("aria-describedby",n.hasError(n.getParamGroup(t),"value")?"value-error-"+t:null),s(2),E(n.hasError(n.getParamGroup(t),"value")?15:-1),s(),f("title",p(17,27,"urlBuilder.form.customParams.removeButton")),C("aria-label",p(18,29,"urlBuilder.form.customParams.removeButton")+" "+(t+1))}}function _i(r,e){if(r&1&&(c(0,"div",1),Be(1,bi,20,31,"div",7,Dn),l()),r&2){let t=b();s(),qe(t.paramsArray().controls)}}function yi(r,e){r&1&&(c(0,"div",6)(1,"strong"),m(2),d(3,"translate"),l(),m(4),l()),r&2&&(s(2),y("",p(3,2,"common.validation.duplicateKey"),":"),s(2),y(" ",e.duplicates.join(", ")," "))}var lt=class r{translationService=a(K);paramsArray=q.required();onAdd=q.required();onRemove=q.required();getParamGroup(e){return this.paramsArray().at(e)}handleAdd(){this.onAdd()()}handleRemove(e){this.onRemove()(e)}hasError=Er;getErrorMessage(e,t){let n=e.get(t);return!n||!n.errors?"":n.errors.required?this.translationService.instant("common.validation.required"):n.errors.invalidKey?this.translationService.instant("common.validation.invalidKey"):this.translationService.instant("common.validation.invalidUrl")}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=O({type:r,selectors:[["app-dynamic-params"]],inputs:{paramsArray:[1,"paramsArray"],onAdd:[1,"onAdd"],onRemove:[1,"onRemove"]},decls:13,vars:11,consts:[[1,"params-fieldset"],["role","list",1,"params-list"],["type","button","tuiButton","","appearance","secondary","size","m",1,"add-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","aria-hidden","true",1,"add-icon"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],["role","alert",1,"form-error"],["role","listitem",1,"param-group",3,"formGroup"],[1,"param-input-group"],[1,"input-wrapper"],[1,"visually-hidden",3,"for"],["type","text","formControlName","key",1,"param-input",3,"id","placeholder"],["role","alert",1,"error",3,"id"],["type","text","formControlName","value",1,"param-input",3,"id","placeholder"],["type","button","tuiButton","","appearance","outline","size","s",1,"remove-btn",3,"click","title"]],template:function(t,n){if(t&1&&(c(0,"fieldset",0)(1,"legend"),m(2),d(3,"translate"),l(),D(4,_i,3,0,"div",1),c(5,"button",2),d(6,"translate"),M("click",function(){return n.handleAdd()}),ae(),c(7,"svg",3),v(8,"line",4)(9,"line",5),l(),m(10),d(11,"translate"),l(),D(12,yi,5,4,"div",6),l()),t&2){let i;s(2),F(p(3,5,"urlBuilder.form.customParams.legend")),s(2),E(n.paramsArray().controls.length>0?4:-1),s(),C("aria-label",p(6,7,"urlBuilder.form.customParams.addButton")),s(5),y(" ",p(11,9,"urlBuilder.form.customParams.addButton")," "),s(2),E((i=(i=n.paramsArray().errors)==null?null:i.duplicateKeys)?12:-1,i)}},dependencies:[W,Je,$e,We,Ke,Ye,Ze,ce,Y],styles:['@charset "UTF-8";.params-fieldset[_ngcontent-%COMP%]{border-radius:16px;padding:clamp(1.25rem,3vw,1.6rem);padding-top:clamp(1.5rem,3vw,1.85rem);border:1px solid rgba(148,163,184,.2);background:linear-gradient(135deg,#fff9,#fff6);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:grid;gap:clamp(.85rem,2vw,1.1rem);width:100%;min-width:0;box-sizing:border-box;transition:all var(--transition-normal)}.params-fieldset[_ngcontent-%COMP%]:hover{border-color:#667eea4d;box-shadow:0 4px 12px #667eea14}.params-fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font:var(--tui-font-text-ui-s);font-size:.8125rem;font-weight:600;letter-spacing:.15em;text-transform:uppercase;color:color-mix(in srgb,var(--color-text-secondary) 88%,white 12%);padding:0 .5rem;margin-bottom:.25rem;line-height:1.2;float:left}.params-fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{clear:both}[data-theme=dark][_nghost-%COMP%]   .params-fieldset[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .params-fieldset[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293bb3,#0f172a99);border-color:#94a3b840}[data-theme=dark][_nghost-%COMP%]   .params-fieldset[_ngcontent-%COMP%]:hover, [data-theme=dark]   [_nghost-%COMP%]   .params-fieldset[_ngcontent-%COMP%]:hover{border-color:#6366f166;box-shadow:0 4px 12px #6366f11f}.params-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:clamp(.75rem,2.4vw,1.1rem)}.param-group[_ngcontent-%COMP%]{border-radius:12px;border:1px solid rgba(148,163,184,.2);padding:clamp(.85rem,2.5vw,1rem);display:grid;grid-template-columns:minmax(0,1fr) auto;gap:clamp(.7rem,2vw,.85rem);background:linear-gradient(135deg,#ffffffe6,#ffffffb3);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);transition:all var(--transition-fast);animation:_ngcontent-%COMP%_slideIn .25s ease-out}[data-theme=dark][_nghost-%COMP%]   .param-group[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .param-group[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293bd9,#0f172abf);border-color:#94a3b833}.param-group[_ngcontent-%COMP%]:hover{border-color:#667eea66;box-shadow:0 4px 12px #667eea1a;transform:translateY(-1px)}[data-theme=dark][_nghost-%COMP%]   .param-group[_ngcontent-%COMP%]:hover, [data-theme=dark]   [_nghost-%COMP%]   .param-group[_ngcontent-%COMP%]:hover{border-color:#6366f173;box-shadow:0 4px 12px #6366f126}.param-group[_ngcontent-%COMP%]:hover   .remove-btn[_ngcontent-%COMP%]{opacity:1}.param-group[_ngcontent-%COMP%]   .param-input-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:clamp(.65rem,2vw,.75rem)}.param-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem}.param-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{margin:0;font:var(--tui-font-text-xs);color:var(--color-error);font-weight:600;display:inline-flex;align-items:center;gap:.25rem;animation:_ngcontent-%COMP%_errorShake .4s ease-out}.param-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]:before{content:"\\26a0"}.param-group[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{inline-size:2.75rem;block-size:2.75rem;min-width:44px;min-height:44px;border-radius:8px;display:grid;place-items:center;opacity:.7;transition:all var(--transition-fast)}.param-group[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.05);background-color:#ef44441a}.param-group[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.add-btn[_ngcontent-%COMP%]{width:100%;min-height:44px;padding:.75rem 1.5rem;border-radius:10px;font-weight:600;font-size:.9375rem;transition:all var(--transition-fast);display:inline-flex;align-items:center;justify-content:center;gap:.625rem;border:1px solid rgba(102,126,234,.25);background:linear-gradient(135deg,#667eea1f,#667eea14);-webkit-backdrop-filter:blur(12px) saturate(1.1);backdrop-filter:blur(12px) saturate(1.1);color:var(--color-brand-primary);box-shadow:0 1px 3px #667eea1a,0 1px 2px #667eea0f}.add-btn[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{width:18px;height:18px;flex-shrink:0;transition:transform var(--transition-fast);stroke-width:2.5px}.add-btn[_ngcontent-%COMP%]:hover{border-color:#667eea66;background:linear-gradient(135deg,#667eea2e,#667eea1f);color:#667eea;box-shadow:0 4px 12px #667eea33,0 2px 4px #667eea1a;transform:translateY(-2px)}.add-btn[_ngcontent-%COMP%]:hover   .add-icon[_ngcontent-%COMP%]{transform:scale(1.15) rotate(90deg)}.add-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px);box-shadow:0 2px 6px #667eea26}.add-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-brand-primary);outline-offset:3px;border-color:var(--color-brand-primary)}[data-theme=dark][_nghost-%COMP%]   .add-btn[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .add-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f126,#6366f11a);border-color:#6366f14d;color:#818cf8f2;box-shadow:0 1px 3px #6366f126,0 1px 2px #6366f11a}[data-theme=dark][_nghost-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover, [data-theme=dark]   [_nghost-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover{border-color:#6366f180;background:linear-gradient(135deg,#6366f138,#6366f126);color:#818cf8;box-shadow:0 4px 12px #6366f140,0 2px 4px #6366f126}.form-error[_ngcontent-%COMP%]{margin-top:1rem;border-radius:14px;padding:.9rem 1.25rem;background:linear-gradient(135deg,#fed7d7cc,#ffffffb8);border:1px solid rgba(239,68,68,.35);color:color-mix(in srgb,var(--color-error) 75%,#4b1b1b 25%);display:inline-flex;align-items:center;gap:.5rem;font:var(--tui-font-text-ui-s)}.form-error[_ngcontent-%COMP%]:before{content:"\\26a1"}.visually-hidden[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media (max-width: 640px){.param-group[_ngcontent-%COMP%]{grid-template-columns:minmax(0,1fr)}.param-group[_ngcontent-%COMP%]   .param-input-group[_ngcontent-%COMP%]{grid-template-columns:1fr}.param-group[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{justify-self:flex-end}}@media (max-width: 360px){.params-fieldset[_ngcontent-%COMP%]{padding:1.125rem .75rem .875rem;gap:.75rem}.params-fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-size:.7rem;padding:0 .375rem}.param-group[_ngcontent-%COMP%]{padding:.75rem .65rem;gap:.65rem}.add-btn[_ngcontent-%COMP%]{padding:.65rem 1.25rem;font-size:.875rem}.add-btn[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{width:16px;height:16px}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.65rem .875rem;font-size:.875rem}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_errorShake{0%,to{transform:translate(0)}25%{transform:translate(-4px)}75%{transform:translate(4px)}}@media (prefers-reduced-motion: reduce){.param-group[_ngcontent-%COMP%]{animation:none}.error[_ngcontent-%COMP%]{animation:none!important}.add-btn[_ngcontent-%COMP%], .remove-btn[_ngcontent-%COMP%], .param-group[_ngcontent-%COMP%]{transition:none!important}}'],changeDetection:0})};var Z=class r{translationService=a(K);notifications=S([]);defaultDuration=3e3;notifications$=this.notifications.asReadonly();success(e,t,n){let i=this.translationService.instant(e,t);this.addNotification(i,"success",n)}error(e,t,n){let i=this.translationService.instant(e,t);this.addNotification(i,"error",n)}warning(e,t,n){let i=this.translationService.instant(e,t);this.addNotification(i,"warning",n)}info(e,t,n){let i=this.translationService.instant(e,t);this.addNotification(i,"info",n)}dismiss(e){this.notifications.update(t=>t.filter(n=>n.id!==e))}clearAll(){this.notifications.set([])}addNotification(e,t,n){let i={id:crypto.randomUUID(),message:e,type:t,duration:n??this.defaultDuration};this.notifications.update(o=>[...o,i]),i.duration&&i.duration>0&&setTimeout(()=>{this.dismiss(i.id)},i.duration)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var Pi=(r,e)=>e.id;function xi(r,e){if(r&1){let t=V();c(0,"div",2)(1,"div",3)(2,"span",4),m(3),l(),c(4,"span",5),m(5),l()(),c(6,"button",6),d(7,"translate"),M("click",function(){let i=I(t).$implicit,o=b();return U(o.dismiss(i.id))}),m(8," \xD7 "),l()()}if(r&2){let t=e.$implicit,n=b();Fn("toast "+n.getTypeClass(t.type)),C("aria-live",t.type==="error"?"assertive":"polite"),s(3),y(" ",n.getIcon(t.type)," "),s(2),y(" ",t.message," "),s(),C("aria-label",p(7,6,"notifications.aria.dismiss"))}}var ct=class r{notificationService=a(Z);notifications=this.notificationService.notifications$;dismiss(e){this.notificationService.dismiss(e)}getIcon(e){switch(e){case"success":return"\u2713";case"error":return"\u2715";case"warning":return"\u26A0";case"info":return"\u2139";default:return"\u2139"}}getTypeClass(e){return`toast-${e}`}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=O({type:r,selectors:[["app-toast-notification"]],decls:4,vars:3,consts:[["role","region","aria-live","polite",1,"toast-container"],["role","alert",3,"class"],["role","alert"],[1,"toast-content"],["aria-hidden","true",1,"toast-icon"],[1,"toast-message"],["type","button","tuiButton","","appearance","flat","size","s",1,"toast-close",3,"click"]],template:function(t,n){t&1&&(c(0,"div",0),d(1,"translate"),Be(2,xi,9,8,"div",1,Pi),l()),t&2&&(C("aria-label",p(1,1,"notifications.aria.region")),s(2),qe(n.notifications()))},dependencies:[W,ce,Y],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;inset:clamp(12px,3vw,24px) clamp(12px,4vw,24px) auto auto;z-index:9999;display:flex;flex-direction:column;gap:14px;max-width:min(420px,85vw);pointer-events:none}.toast-container.toast-container--bottom[_ngcontent-%COMP%]{top:auto;bottom:clamp(12px,3vw,24px)}.toast[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.1rem;padding:1rem 1.35rem;border-radius:14px;box-shadow:0 20px 40px #0f172a33;animation:_ngcontent-%COMP%_slide-in .35s cubic-bezier(.25,.8,.5,1);min-width:min(320px,100%);pointer-events:auto;-webkit-backdrop-filter:saturate(1.1) blur(12px);backdrop-filter:saturate(1.1) blur(12px)}.toast[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.85rem;flex:1}.toast[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:700}.toast[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]   .toast-message[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.5;margin:0}.toast[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{background:transparent;border:none;font-size:1.4rem;line-height:1;cursor:pointer;padding:0;margin-left:.5rem;opacity:.65;transition:opacity var(--transition-fast),transform var(--transition-fast)}.toast[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.05)}.toast[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-focus-ring);outline-offset:3px;border-radius:4px}.toast-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-success-light),color-mix(in srgb,var(--color-success-light) 75%,#ffffff 25%));border-left:4px solid var(--color-success);color:var(--color-success-dark)}.toast-success[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:var(--color-success)}.toast-error[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-error-light),color-mix(in srgb,var(--color-error-light) 75%,#ffffff 25%));border-left:4px solid var(--color-error);color:var(--color-error-dark)}.toast-error[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:var(--color-error)}.toast-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-warning-light),color-mix(in srgb,var(--color-warning-light) 75%,#ffffff 25%));border-left:4px solid var(--color-warning);color:var(--color-warning-dark)}.toast-warning[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:var(--color-warning)}.toast-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-info-light),color-mix(in srgb,var(--color-info-light) 75%,#ffffff 25%));border-left:4px solid var(--color-info);color:var(--color-info-dark)}.toast-info[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:var(--color-info)}@keyframes _ngcontent-%COMP%_slide-in{0%{transform:translate(35%) scale(.97);opacity:0}to{transform:translate(0) scale(1);opacity:1}}@media (max-width: 640px){.toast-container[_ngcontent-%COMP%]{inset:clamp(10px,4vw,16px);align-items:stretch}.toast-container[_ngcontent-%COMP%]   .toast[_ngcontent-%COMP%]{min-width:0}}@media (prefers-reduced-motion: reduce){.toast[_ngcontent-%COMP%]{animation:none}.toast-close[_ngcontent-%COMP%]:hover{transform:none}}"],changeDetection:0})};var Rr="app-theme",dt=class r{storage=a(Ge);currentTheme=S(this.loadThemePreference());isDarkMode=S(this.loadThemePreference()==="dark");constructor(){this.applyTheme(this.currentTheme()),Nn(()=>{let e=this.currentTheme();this.applyTheme(e),this.saveThemePreference(e),this.isDarkMode.set(e==="dark")})}toggleTheme(){let e=this.currentTheme()==="light"?"dark":"light";this.currentTheme.set(e)}setTheme(e){this.currentTheme.set(e)}loadThemePreference(){let e=this.storage.getItem(Rr);return e==="dark"||e==="light"?e:"light"}saveThemePreference(e){this.storage.setItem(Rr,e)}applyTheme(e){document.documentElement.setAttribute("data-theme",e)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};function Oi(r,e){r&1&&(ae(),qt(0,"path",2))}function Mi(r,e){r&1&&(ae(),qt(0,"circle",3)(1,"line",4)(2,"line",5)(3,"line",6)(4,"line",7)(5,"line",8)(6,"line",9)(7,"line",10)(8,"line",11))}var pt=class r{themeService=a(dt);translation=a(K);isDarkMode=this.themeService.isDarkMode;currentTheme=this.themeService.currentTheme;ariaLabel=be(()=>this.translation.instant(this.isDarkMode()?"theme.toggle.switchToLight":"theme.toggle.switchToDark"));onToggleTheme(){this.themeService.toggleTheme()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=O({type:r,selectors:[["app-theme-toggle"]],decls:4,vars:8,consts:[["type","button",1,"theme-toggle",3,"click","title"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","aria-hidden","true",1,"theme-icon"],["d","M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"],["cx","12","cy","12","r","5"],["x1","12","y1","1","x2","12","y2","3"],["x1","12","y1","21","x2","12","y2","23"],["x1","4.22","y1","4.22","x2","5.64","y2","5.64"],["x1","18.36","y1","18.36","x2","19.78","y2","19.78"],["x1","1","y1","12","x2","3","y2","12"],["x1","21","y1","12","x2","23","y2","12"],["x1","4.22","y1","19.78","x2","5.64","y2","18.36"],["x1","18.36","y1","5.64","x2","19.78","y2","4.22"]],template:function(t,n){t&1&&(Bt(0,"button",0),Un("click",function(){return n.onToggleTheme()}),ae(),Bt(1,"svg",1),D(2,Oi,1,0,":svg:path",2)(3,Mi,9,0),En()()),t&2&&(In("title",n.ariaLabel()),C("aria-label",n.ariaLabel())("aria-pressed",n.isDarkMode()),s(),J("theme-icon--sun",!n.isDarkMode())("theme-icon--moon",n.isDarkMode()),s(),E(n.isDarkMode()?2:3))},dependencies:[W],styles:[".theme-toggle[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:10px;border:1.5px solid rgba(148,163,184,.3);background:linear-gradient(145deg,#fffffff2,#ffffffe0);-webkit-backdrop-filter:blur(16px) saturate(1.1);backdrop-filter:blur(16px) saturate(1.1);color:var(--color-text-primary);cursor:pointer;transition:transform var(--transition-fast),border-color var(--transition-fast),box-shadow var(--transition-fast),background var(--transition-fast),color var(--transition-fast);box-shadow:0 2px 4px #0f172a1f,0 1px 2px #0f172a14}.theme-toggle[_ngcontent-%COMP%]:hover{transform:translateY(-1px);background:linear-gradient(145deg,#fffffff2,#ffffffd9);border-color:#667eea59;color:var(--color-brand-primary);box-shadow:0 2px 8px #667eea26}.theme-toggle[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-brand-primary);outline-offset:2px;box-shadow:0 0 0 4px #667eea33}.theme-toggle[_ngcontent-%COMP%]:active{transform:scale(.97)}.theme-toggle[_ngcontent-%COMP%]   .theme-icon[_ngcontent-%COMP%]{width:20px;height:20px;transition:transform .4s ease,opacity .3s ease}.theme-toggle[_ngcontent-%COMP%]   .theme-icon--sun[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 20s linear infinite}.theme-toggle[_ngcontent-%COMP%]   .theme-icon--moon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 3s ease-in-out infinite}[data-theme=dark][_nghost-%COMP%]   .theme-toggle[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .theme-toggle[_ngcontent-%COMP%]{border-color:#94a3b859;background:linear-gradient(145deg,#1e293bfa,#0f172af2);color:#e2e8f0fa;box-shadow:0 2px 4px #00000059,0 1px 2px #00000040}[data-theme=dark][_nghost-%COMP%]   .theme-toggle[_ngcontent-%COMP%]:hover, [data-theme=dark]   [_nghost-%COMP%]   .theme-toggle[_ngcontent-%COMP%]:hover{border-color:#6366f180;background:linear-gradient(145deg,#1e293b,#0f172afa);color:#818cf8;box-shadow:0 2px 8px #6366f140}[data-theme=dark][_nghost-%COMP%]   .theme-toggle[_ngcontent-%COMP%]:focus-visible, [data-theme=dark]   [_nghost-%COMP%]   .theme-toggle[_ngcontent-%COMP%]:focus-visible{outline:2px solid rgba(129,140,248,.9);outline-offset:2px;box-shadow:0 0 0 4px #6366f14d}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}@media (prefers-reduced-motion: reduce){.theme-toggle[_ngcontent-%COMP%]{transition:background .2s,border-color .2s}.theme-toggle[_ngcontent-%COMP%]:hover, .theme-toggle[_ngcontent-%COMP%]:active{transform:none}.theme-toggle[_ngcontent-%COMP%]   .theme-icon[_ngcontent-%COMP%]{transition:none}.theme-toggle[_ngcontent-%COMP%]   .theme-icon--sun[_ngcontent-%COMP%], .theme-toggle[_ngcontent-%COMP%]   .theme-icon--moon[_ngcontent-%COMP%]{animation:none}}"],changeDetection:0})};var mt=class r{buildUrl(e){if(!e.baseUrl||!this.isValidUrl(e.baseUrl))return null;try{let t=new URL(e.baseUrl),n=0;n+=this.addUtmParameters(t,e),n+=this.addCustomParameters(t,e.params||[]);let i=t.toString();return{url:i,characterCount:i.length,parameterCount:n}}catch{return null}}isValidUrl(e){try{let t=new URL(e);return!!t.protocol&&!!t.hostname}catch{return!1}}addUtmParameters(e,t){let n=0,i=[{formKey:"utmSource",paramName:"utm_source"},{formKey:"utmMedium",paramName:"utm_medium"},{formKey:"utmCampaign",paramName:"utm_campaign"}];for(let{formKey:o,paramName:h}of i){let g=t[o];g&&typeof g=="string"&&g.trim()&&(e.searchParams.set(h,g.trim()),n++)}return n}addCustomParameters(e,t){let n=0;for(let i of t)i.key&&i.value&&(e.searchParams.set(i.key.trim(),i.value.trim()),n++);return n}parseUrl(e){try{let t=new URL(e),n=[],i,o,h;return t.searchParams.forEach((g,B)=>{B==="utm_source"?i=g:B==="utm_medium"?o=g:B==="utm_campaign"?h=g:n.push({key:B,value:g})}),{baseUrl:`${t.protocol}//${t.host}${t.pathname}`,utmSource:i,utmMedium:o,utmCampaign:h,params:n}}catch{return null}}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};function Ir(){return r=>{let e=r.value;if(!e)return null;try{let t=e.trim();if(t.length===0)return null;let i=`https://${t.replace(/^https?:\/\//i,"")}`,o=new URL(i);return!o.hostname||o.hostname.length===0?{absoluteUrl:{value:e,message:"URL must include a valid domain"}}:!o.hostname.includes(".")&&o.hostname!=="localhost"?{absoluteUrl:{value:e,message:"URL must include a valid domain (e.g., example.com)"}}:null}catch{return{absoluteUrl:{value:e,message:"Invalid URL format"}}}}}function Ur(){return r=>{if(!r.value||!Array.isArray(r.value))return null;let e=r.value.map(n=>n.key).filter(n=>!!n&&n.trim().length>0),t=e.filter((n,i)=>e.indexOf(n)!==i);return t.length>0?{duplicateKeys:{duplicates:Array.from(new Set(t)),message:"Parameter keys must be unique"}}:null}}function sn(){let r=/[=&?#\/\\]/;return e=>{let t=e.value;return t&&r.test(t)?{invalidKey:{value:t,message:"Key cannot contain =, &, ?, #, /, or \\"}}:null}}var Me=class r{fb=a(Zn);urlBuilder=a(mt);form=this.fb.group({baseUrl:["",[Kn.required,Ir()]],utmSource:[""],utmMedium:[""],utmCampaign:[""],params:this.fb.array([],[Ur()])});formValue=tt(this.form.valueChanges.pipe(vn(300)),{initialValue:this.form.value});constructedUrl=be(()=>{let e=this.formValue(),t=e.baseUrl??void 0;t&&(t=t.trim(),t.length===0?t=void 0:(t=t.replace(/^https?:\/\//i,""),t=`https://${t}`));let n={baseUrl:t,utmSource:e.utmSource??void 0,utmMedium:e.utmMedium??void 0,utmCampaign:e.utmCampaign??void 0,params:(e.params??[]).filter(i=>!!(i.key&&i.value)).map(i=>({key:i.key,value:i.value}))};return this.urlBuilder.buildUrl(n)});canSave=be(()=>{this.formValue();let e=!!this.constructedUrl();return(this.form.get("baseUrl")?.valid??!1)&&e});get params(){return this.form.get("params")}addParameter(){let e=this.fb.group({key:new ye("",{validators:[sn()],nonNullable:!0}),value:new ye("",{nonNullable:!0})});this.params.push(e)}removeParameter(e){e>=0&&e<this.params.length&&this.params.removeAt(e)}loadFormData(e){this.params.clear();let t=e.baseUrl.replace(/^https?:\/\//i,"");this.form.patchValue({baseUrl:t,utmSource:e.utmSource??"",utmMedium:e.utmMedium??"",utmCampaign:e.utmCampaign??""}),e.params.forEach(n=>{let i=this.fb.group({key:new ye(n.key,{validators:[sn()],nonNullable:!0}),value:new ye(n.value,{nonNullable:!0})});this.params.push(i)})}reset(){this.form.reset(),this.params.clear()}getFormData(){if(!this.form.valid)return null;let e=this.form.getRawValue();return{baseUrl:e.baseUrl,utmSource:e.utmSource||void 0,utmMedium:e.utmMedium||void 0,utmCampaign:e.utmCampaign||void 0,params:(e.params??[]).filter(t=>!!(t.key&&t.value)).map(t=>({key:t.key,value:t.value}))}}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac})};var ut=class r{async copyToClipboard(e){if(!e||e.trim().length===0)return{success:!1,error:"No text provided to copy"};if(!navigator.clipboard)return this.fallbackCopy(e);try{return await navigator.clipboard.writeText(e),{success:!0}}catch{return this.fallbackCopy(e)}}fallbackCopy(e){try{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-9999px",t.style.top="-9999px",document.body.appendChild(t),t.focus(),t.select();let n=document.execCommand("copy");return document.body.removeChild(t),n?{success:!0}:{success:!1,error:"Copy command failed"}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}}async readFromClipboard(){if(!navigator.clipboard||!navigator.clipboard.readText)return null;try{return await navigator.clipboard.readText()}catch{return null}}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var x=class r extends Error{constructor(t,n,i){super(t);this.type=n;this.originalError=i;this.name="UrlShortenerError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,r)}};var gt=class r{http=a(je);API_URL="/api/tinyurl";name="TinyURL";shorten(e){if(!this.isValidUrl(e))return P({success:!1,error:new x("Invalid URL format","INVALID_URL")});let t=`${this.API_URL}?url=${encodeURIComponent(e)}`;return this.http.get(t,{responseType:"text"}).pipe(T(n=>{let i=n.trim();if(!i||!this.isValidUrl(i))throw new x("Invalid response from TinyURL","API_ERROR");return{success:!0,shortUrl:i,provider:this.name}}),re(n=>P({success:!1,error:this.handleError(n)})))}isValidUrl(e){try{let t=new URL(e);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}}handleError(e){return e instanceof x?e:e instanceof Ve?e.status===0?new x("Network error: Unable to reach TinyURL service","NETWORK_ERROR",e):e.status===429?new x("Rate limit exceeded for TinyURL","RATE_LIMIT",e):new x(`TinyURL API error: ${e.status} ${e.statusText}`,"API_ERROR",e):new x("Unknown error occurred while shortening URL","UNKNOWN",e)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var ft=class r{http=a(je);API_URL="/api/isgd";name="is.gd";shorten(e){if(!this.isValidUrl(e))return P({success:!1,error:new x("Invalid URL format","INVALID_URL")});let t=`${this.API_URL}?format=json&url=${encodeURIComponent(e)}`;return this.http.get(t).pipe(T(n=>{if(n.errormessage)throw new x(`is.gd error: ${n.errormessage}`,"API_ERROR");if(!n.shorturl||!this.isValidUrl(n.shorturl))throw new x("Invalid response from is.gd","API_ERROR");return{success:!0,shortUrl:n.shorturl,provider:this.name}}),re(n=>P({success:!1,error:this.handleError(n)})))}isValidUrl(e){try{let t=new URL(e);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}}handleError(e){return e instanceof x?e:e instanceof Ve?e.status===0?new x("Network error: Unable to reach is.gd service","NETWORK_ERROR",e):e.status===429?new x("Rate limit exceeded for is.gd","RATE_LIMIT",e):new x(`is.gd API error: ${e.status} ${e.statusText}`,"API_ERROR",e):new x("Unknown error occurred while shortening URL","UNKNOWN",e)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var ht=class r{STORAGE_KEY="url-shortener-rate-limit";config={maxRequests:50,windowMs:3600*1e3};canMakeRequest(){let e=this.getState();return this.refillTokens(e),e.tokens>0}recordRequest(){let e=this.getState();this.refillTokens(e),e.tokens>0&&(e.tokens--,this.saveState(e))}getRemainingRequests(){let e=this.getState();return this.refillTokens(e),Math.max(0,e.tokens)}getTimeUntilRefill(){let e=this.getState(),t=Date.now()-e.lastRefill,n=this.config.windowMs-t;return Math.max(0,n)}reset(){let e={tokens:this.config.maxRequests,lastRefill:Date.now()};this.saveState(e)}refillTokens(e){let t=Date.now(),n=t-e.lastRefill;if(n>=this.config.windowMs)e.tokens=this.config.maxRequests,e.lastRefill=t,this.saveState(e);else{let i=Math.floor(n/this.config.windowMs*this.config.maxRequests);i>0&&(e.tokens=Math.min(this.config.maxRequests,e.tokens+i),e.lastRefill=t,this.saveState(e))}}getState(){try{let e=localStorage.getItem(this.STORAGE_KEY);if(e){let t=JSON.parse(e);if(typeof t.tokens=="number"&&typeof t.lastRefill=="number")return t}}catch(e){console.error("Error reading rate limit state:",e)}return{tokens:this.config.maxRequests,lastRefill:Date.now()}}saveState(e){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(t){console.error("Error saving rate limit state:",t)}}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var vt=class r{STORAGE_KEY="url-shortener-cache";TTL_MS=1440*60*1e3;cache=new Map;constructor(){this.loadCacheFromStorage()}get(e){let t=this.cache.get(e);if(!t){let n=this.getFromStorage(e);n&&(t=n,this.cache.set(e,t))}return t&&!this.isExpired(t)?t.shortUrl:(t&&this.delete(e),null)}set(e,t,n){let i={originalUrl:e,shortUrl:t,provider:n,timestamp:Date.now(),ttl:this.TTL_MS};this.cache.set(e,i),this.saveToStorage(e,i)}delete(e){this.cache.delete(e),this.removeFromStorage(e)}clear(){this.cache.clear(),this.clearStorage()}getAllEntries(){return Array.from(this.cache.values())}getStats(){let e=this.getAllEntries();return{size:e.length,validEntries:e.filter(t=>!this.isExpired(t)).length,expiredEntries:e.filter(t=>this.isExpired(t)).length}}isExpired(e){return Date.now()-e.timestamp>e.ttl}loadCacheFromStorage(){try{let e=localStorage.getItem(this.STORAGE_KEY);if(!e)return;let t=JSON.parse(e);Object.entries(t).forEach(([n,i])=>{this.isExpired(i)||this.cache.set(n,i)}),this.saveAllToStorage()}catch(e){console.error("Error loading cache from storage:",e),this.clearStorage()}}getFromStorage(e){try{let t=localStorage.getItem(this.STORAGE_KEY);return t&&JSON.parse(t)[e]||null}catch(t){return console.error("Error reading from cache storage:",t),null}}saveToStorage(e,t){try{let n=localStorage.getItem(this.STORAGE_KEY),i=n?JSON.parse(n):{};i[e]=t,localStorage.setItem(this.STORAGE_KEY,JSON.stringify(i))}catch(n){console.error("Error saving to cache storage:",n)}}saveAllToStorage(){try{let e={};this.cache.forEach((t,n)=>{this.isExpired(t)||(e[n]=t)}),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(e){console.error("Error saving cache to storage:",e)}}removeFromStorage(e){try{let t=localStorage.getItem(this.STORAGE_KEY);if(!t)return;let n=JSON.parse(t);delete n[e],localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n))}catch(t){console.error("Error removing from cache storage:",t)}}clearStorage(){try{localStorage.removeItem(this.STORAGE_KEY)}catch(e){console.error("Error clearing cache storage:",e)}}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ct=class r{cache=a(vt);rateLimiter=a(ht);tinyUrlProvider=a(gt);isGdProvider=a(ft);providers=[this.tinyUrlProvider,this.isGdProvider];shortenUrl(e){let t=this.cache.get(e);if(t)return P({success:!0,shortUrl:t,provider:"Cache"});if(!this.rateLimiter.canMakeRequest()){let n=this.rateLimiter.getTimeUntilRefill(),i=Math.ceil(n/6e4);return P({success:!1,error:new x(`Rate limit exceeded. Please try again in ${i} minute(s). You have ${this.rateLimiter.getRemainingRequests()} requests remaining.`,"RATE_LIMIT")})}return this.tryProvidersWithFallback(e,0)}tryProvidersWithFallback(e,t){if(t>=this.providers.length)return P({success:!1,error:new x("All URL shortening providers failed. Please try again later.","API_ERROR")});let n=this.providers[t];return this.rateLimiter.recordRequest(),n.shorten(e).pipe(ie(i=>i.success?(this.cache.set(e,i.shortUrl,i.provider),P(i)):(console.warn(`Provider ${n.name} failed, trying fallback...`,i.error),this.tryProvidersWithFallback(e,t+1))),re(i=>(console.warn(`Provider ${n.name} threw error, trying fallback...`,i),this.tryProvidersWithFallback(e,t+1))))}getRateLimitInfo(){return{remaining:this.rateLimiter.getRemainingRequests(),timeUntilRefill:this.rateLimiter.getTimeUntilRefill(),canMakeRequest:this.rateLimiter.canMakeRequest()}}getCacheStats(){return this.cache.getStats()}clearCache(){this.cache.clear()}resetRateLimiter(){this.rateLimiter.reset()}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ar=(()=>{let e=class e{constructor(){this.tuiPlatform=a(en,{skipSelf:!0})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=A({type:e,selectors:[["","tuiPlatform",""]],hostVars:1,hostBindings:function(i,o){i&2&&C("data-platform",o.tuiPlatform)},inputs:{tuiPlatform:"tuiPlatform"},features:[N([{provide:en,useFactory:()=>a(e).tuiPlatform}])]});let r=e;return r})();var Nr=(()=>{class r extends Te{visualViewport=a(Xn).visualViewport;stream$=this.visualViewport?te(ee(this.visualViewport,"resize"),ee(this.visualViewport,"scroll"),ee(this.visualViewport,"scrollend")).pipe(It(null),T(()=>this.visualViewport),ne(Boolean),Cn({bufferSize:1,refCount:!0})):St;constructor(){super(t=>this.stream$.subscribe(t))}static \u0275fac=function(n){return new(n||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Br=(()=>{let e=class e{constructor(){this.w=a(Yt),this.style=H().style,this.$=a(Nr).pipe(le()).subscribe(({offsetLeft:n,offsetTop:i,height:o,width:h,scale:g})=>{this.style.setProperty("--tui-viewport-x",j(n)),this.style.setProperty("--tui-viewport-y",j(i)),this.style.setProperty("--tui-viewport-height",j(o)),this.style.setProperty("--tui-viewport-width",j(h)),this.style.setProperty("--tui-viewport-scale",String(g)),this.style.setProperty("--tui-viewport-vh",j(this.w.innerHeight/100)),this.style.setProperty("--tui-viewport-vw",j(this.w.innerWidth/100))})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=A({type:e,selectors:[["","tuiVisualViewport",""]]});let r=e;return r})();var qr=(()=>{let e=class e{transform(n,i,...o){return i(n,...o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=On({name:"tuiMapper",type:e,pure:!0});let r=e;return r})();function Si(r,e){if(r&1&&(he(0,3),d(1,"tuiMapper")),r&2){let t=e.$implicit,n=b(2);f("ngComponentOutlet",t.component.component)("ngComponentOutletInjector",Ce(1,2,t,n.mapper))}}function Di(r,e){if(r&1&&(c(0,"div",1),L(1,Si,2,5,"ng-container",2),l()),r&2){let t=e.$implicit;s(),f("ngForOf",t)}}var Ei=new oe("",{factory:()=>new Se([])}),Ri=new oe("",{factory:()=>hn([P(new Map),a(Ei)]).pipe(T(([r,e])=>(r.forEach((t,n)=>r.set(n,[])),e.forEach(t=>{let n=t.component.component,i=r.get(n)||[];r.set(n,[...i,t])}),Array.from(r.values()))))});var Lr=(()=>{let e=class e{constructor(){this.injector=a(Ue),this.alerts$=a(Ri),this.trackBy=gn,this.mapper=n=>yn.create({providers:[{provide:cr,useValue:n}],parent:this.injector})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=O({type:e,selectors:[["tui-alerts"]],decls:2,vars:4,consts:[["tuiAnimatedParent","","class","t-wrapper",4,"ngFor","ngForOf","ngForTrackBy"],["tuiAnimatedParent","",1,"t-wrapper"],[3,"ngComponentOutlet","ngComponentOutletInjector",4,"ngFor","ngForOf"],[3,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(i,o){i&1&&(L(0,Di,2,1,"div",0),d(1,"async")),i&2&&f("ngForOf",p(1,2,o.alerts$))("ngForTrackBy",o.trackBy)},dependencies:[Ln,qn,He,rt,qr],styles:[`tui-alerts>.t-wrapper{position:fixed;top:0;left:0;inline-size:100%;display:flex;flex-direction:column;pointer-events:none;box-sizing:border-box;block-size:100%;padding:env(safe-area-inset-top) 0 env(safe-area-inset-bottom)}tui-alerts>.t-wrapper>*{pointer-events:auto}
`],encapsulation:2});let r=e;return r})();function Ii({currentTarget:r,relatedTarget:e}){return!Zt(e)||!Zt(r)||!r.contains(e)}var we=(()=>{let e=class e extends Te{constructor(){super(n=>this.stream$.subscribe(n)),this.el=H(),this.zone=a(ue),this.stream$=te(nt(this.el,"mouseenter").pipe(T(Jn)),nt(this.el,"mouseleave").pipe(T(Wt)),nt(this.el,"mouseout").pipe(ne(Ii),T(Wt))).pipe(Rt(),tr(this.zone))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=u({token:e,factory:e.\u0275fac});let r=e;return r})();function Ui(r,e){r&1&&he(0)}var Fi=["*"];function Ai(r,e){if(r&1&&v(0,"span",1),r&2){let t=e.polymorpheusOutlet;f("innerHTML",t,At)}}var Ni=r=>({$implicit:r});function Bi(r,e){r&1&&he(0)}function qi(r,e){if(r&1&&(c(0,"div",1),L(1,Bi,1,0,"ng-container",2),l()),r&2){let t=e.$implicit;f("tuiActiveZoneParent",t.activeZone||null),s(),f("polymorpheusOutlet",t.component)("polymorpheusOutletContext",ve(3,Ni,t))}}var Li=new oe("",{factory:()=>$i}),jr=(()=>{let e=class e extends Se{constructor(){super([])}add(n){this.next(this.value.concat(n))}remove(n){this.value.includes(n)&&this.next(this.value.filter(i=>i!==n))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})(),Hi=(()=>{let e=class e extends hr{constructor(){super(...arguments),this.type="hint"}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=z(e)))(o||e)}})(),e.\u0275dir=A({type:e,features:[Q]});let r=e;return r})(),Hr=["bottom-left","bottom","bottom-right","top-left","top","top-right","left-top","left","left-bottom","right-top","right","right-bottom"],Vi={direction:"bottom-left",showDelay:500,hideDelay:200,appearance:"",icon:"@tui.circle-help"},ln=new oe("",{factory:()=>Vi});var cn=(()=>{let e=class e extends fr{constructor(){super(n=>this.stream$.subscribe(n)),this.isMobile=a(de),this.el=H(),this.hovered$=a(we),this.options=a(ln),this.visible=!1,this.toggle$=new fn,this.stream$=te(this.toggle$.pipe(ie(n=>this.isMobile?P(n):P(n).pipe(Et(n?0:this.tuiHintHideDelay))),Re(this.hovered$),Ee()),this.hovered$.pipe(ie(n=>this.isMobile?P(n):P(n).pipe(Et(n?this.tuiHintShowDelay:this.tuiHintHideDelay))),Re(this.toggle$),Ee())).pipe(ne(()=>this.enabled),T(n=>n&&(this.el.hasAttribute("tuiHintPointer")||!an(this.el))),_n(n=>{this.visible=n})),this.parent=a(e,{optional:!0,skipSelf:!0}),this.tuiHintShowDelay=this.options.showDelay,this.tuiHintHideDelay=this.options.hideDelay,this.type="hint",this.enabled=!0}toggle(n=!this.visible){this.toggle$.next(n),this.parent?.toggle(n)}close(){this.toggle$.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=A({type:e,inputs:{tuiHintShowDelay:"tuiHintShowDelay",tuiHintHideDelay:"tuiHintHideDelay"},exportAs:["tuiHintHover"],features:[N([rn(e),we]),Q]});let r=e;return r})(),bt=8,_t=24,w=0,k=1,zr=(()=>{let e=class e extends dr{constructor(){super(...arguments),this.el=H(),this.offset=a(de)?16:8,this.viewport=a(Xt),this.accessor=pr("hint")(a(tn),a(Pt)),this.points=Hr.reduce((n,i)=>pe(R({},n),{[i]:[0,0]}),{}),this.direction=a(ln).direction,this.directionChange=new Nt,this.type="hint"}emitDirection(n){this.directionChange.emit(n)}getPosition(n,i){let o=i?.clientWidth??n.width,h=i?.clientHeight??n.height,g=this.accessor.getClientRect()??et,B=g.left+g.width/2,X=g.top+g.height/2,ke=this.el.matches('[dir="rtl"] :scope');this.points["top-left"][w]=g.top-h-this.offset,this.points["top-left"][k]=B-o+_t,this.points.top[w]=this.points["top-left"][w],this.points.top[k]=B-o/2,this.points["top-right"][w]=this.points["top-left"][w],this.points["top-right"][k]=B-_t,this.points["bottom-left"][w]=g.bottom+this.offset,this.points["bottom-left"][k]=this.points["top-left"][k],this.points.bottom[w]=this.points["bottom-left"][w],this.points.bottom[k]=this.points.top[k],this.points["bottom-right"][w]=this.points["bottom-left"][w],this.points["bottom-right"][k]=this.points["top-right"][k],this.points["left-top"][w]=X-h+_t,this.points["left-top"][k]=g.left-o-this.offset,this.points.left[w]=X-h/2,this.points.left[k]=this.points["left-top"][k],this.points["left-bottom"][w]=X-_t,this.points["left-bottom"][k]=this.points["left-top"][k],this.points["right-top"][w]=this.points["left-top"][w],this.points["right-top"][k]=g.right+this.offset,this.points.right[w]=this.points.left[w],this.points.right[k]=this.points["right-top"][k],this.points["right-bottom"][w]=this.points["left-bottom"][w],this.points["right-bottom"][k]=this.points["right-top"][k];let un=(Array.isArray(this.direction)?this.direction:[this.direction]).map(Tt=>Vr(Tt,ke)).concat(Hr).find(Tt=>this.checkPosition(this.points[Tt],o,h))||this.fallback;return this.emitDirection(Vr(un,ke)),this.points[un]}get fallback(){return this.points.top[w]>this.viewport.getClientRect().bottom-this.points.bottom[w]?"top":"bottom"}checkPosition([n,i],o,h){let g=this.viewport.getClientRect();return n>g.top+bt&&i>g.left+bt&&n+h<g.bottom-bt&&i+o<g.right-bt}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=z(e)))(o||e)}})(),e.\u0275dir=A({type:e,inputs:{direction:[0,"tuiHintDirection","direction"]},outputs:{directionChange:"tuiHintDirectionChange"},features:[Q]});let r=e;return Dt([Kt],r.prototype,"emitDirection",null),r})();function Vr(r,e){return e&&r.includes("left")?r.replace("left","right"):e&&r.includes("right")?r.replace("right","left"):r}var Pt=(()=>{let e=class e{constructor(){this.service=a(jr),this.appearance=a(ln).appearance,this.visible=new Nt,this.content=S(null),this.component=a(ot),this.el=H(),this.activeZone=a(xe,{optional:!0}),this.type="hint"}set tuiHint(n){this.content.set(n),n||this.toggle(!1)}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.el.getBoundingClientRect()}toggle(n){n&&this.content()?this.service.add(this):this.service.remove(this),this.visible.emit(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=A({type:e,selectors:[["","tuiHint","",5,"ng-container",5,"ng-template"]],inputs:{context:[0,"tuiHintContext","context"],appearance:[0,"tuiHintAppearance","appearance"],tuiHint:"tuiHint"},outputs:{visible:"tuiHintVisible"},features:[N([nn(e),gr(e),{provide:ot,deps:[Li,Ue],useClass:ot}]),se([Hi,{directive:cn,inputs:["tuiHintHideDelay","tuiHintHideDelay","tuiHintShowDelay","tuiHintShowDelay"]},{directive:zr,inputs:["tuiHintDirection","tuiHintDirection"],outputs:["tuiHintDirectionChange","tuiHintDirectionChange"]}])]});let r=e;return r})(),ji=(()=>{let e=class e extends cn{constructor(){super(...arguments),this.currentRect=et}getClientRect(){return this.currentRect}onMove({clientX:n,clientY:i}){this.currentRect=er(n,i)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=z(e)))(o||e)}})(),e.\u0275dir=A({type:e,selectors:[["","tuiHint","","tuiHintPointer",""]],hostBindings:function(i,o){i&1&&M("mousemove.zoneless",function(g){return o.onMove(g)})},features:[N([nn(e),rn(e)]),Q]});let r=e;return r})(),zi=(()=>{let e=class e{constructor(){this.context=it()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=O({type:e,selectors:[["ng-component"]],decls:1,vars:1,consts:[[4,"polymorpheusOutlet"]],template:function(i,o){i&1&&L(0,Ui,1,0,"ng-container",0),i&2&&f("polymorpheusOutlet",o.context.$implicit.content())},dependencies:[Oe],encapsulation:2,changeDetection:0});let r=e;return r})();var Qi=[on,we,mr("hint",zr),ur("hint",Pt)],yt=8,Gi=(()=>{let e=class e{constructor(){this.el=H(),this.hover=a(cn),this.vvs=a(Cr),this.viewport=a(Xt),this.pointer=a(ji,{optional:!0}),this.accessor=a(tn),this.hint=it().$implicit,this.isMobile=a(de),this.content=this.hint.component.component===zi?S(""):this.hint.content,this.appearance=this.hint.appearance||this.hint.el.closest("[tuiTheme]")?.getAttribute("tuiTheme"),a(on).pipe(bn(()=>this.hint.el.isConnected),T(n=>this.vvs.correct(n)),le()).subscribe({next:([n,i])=>this.update(n,i),complete:()=>this.hover.close()}),a(we).pipe(le()).subscribe(n=>this.hover.toggle(n))}onClick(n){(!n.closest(this.el.tagName)&&!this.hint.el.contains(n)||an(this.hint.el))&&this.hover.toggle(!1)}apply(n,i,o,h){this.el.style.top=n,this.el.style.left=i,this.el.style.setProperty("--t-top",`${o}%`),this.el.style.setProperty("--t-left",`${h}%`),this.el.style.setProperty("--t-rotate",!h||Math.ceil(h)===100?"90deg":"0deg")}update(n,i){let{clientHeight:o,clientWidth:h}=this.el,g=this.accessor.getClientRect();if(g===et||!o||!h)return;let B=this.viewport.getClientRect(),X=Xe(Math.max(yt,i),B.left+yt,Math.max(yt,B.width+B.left-h-yt)),[ke,mn]=this.vvs.correct([g.top+g.height/2-n,g.left+g.width/2-X]);this.apply(j(Math.round(n)),j(Math.round(X)),Math.round(Xe(ke,0,o)/o*100),Math.round(Xe(mn,0,h)/h*100))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=O({type:e,selectors:[["ng-component"]],hostVars:6,hostBindings:function(i,o){i&1&&M("click",function(g){return o.onClick(g.target)},Fe),i&2&&(C("data-appearance",o.appearance)("tuiTheme",o.appearance==="dark"?"light":null),J("_untouchable",o.pointer)("_mobile",o.isMobile))},decls:0,vars:0,template:function(i,o){},encapsulation:2,changeDetection:0});let r=e;return Dt([Kt],r.prototype,"apply",null),r})(),$i=(()=>{let e=class e extends Gi{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=z(e)))(o||e)}})(),e.\u0275cmp=O({type:e,selectors:[["tui-hint"]],features:[N(Qi),se([lr]),Q],ngContentSelectors:Fi,decls:2,vars:2,consts:[[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(i,o){i&1&&(Le(),G(0),L(1,Ai,1,1,"span",0)),i&2&&(s(),f("polymorpheusOutlet",o.content())("polymorpheusOutletContext",o.hint.context))},dependencies:[Oe],styles:[`[_nghost-%COMP%]{position:absolute;max-inline-size:min(18rem,calc(100% - 1rem));padding:.75rem 1rem;background:var(--tui-background-accent-1);border-radius:var(--tui-radius-l);color:var(--tui-text-primary-on-accent-1);box-sizing:border-box;font:var(--tui-font-text-s);white-space:pre-line;overflow-wrap:break-word;transform-origin:var(--t-left) var(--t-top);--tui-background-elevation-2: var(--tui-background-elevation-3)}.tui-enter[_nghost-%COMP%], .tui-leave[_nghost-%COMP%]{animation-name:tuiFade}[_nghost-%COMP%]   tui-root._mobile.tui-enter[_nghost-%COMP%], tui-root._mobile   .tui-enter[_nghost-%COMP%]{animation:tuiFade var(--tui-duration) ease-in-out,tuiScale var(--tui-duration) cubic-bezier(.34,1.56,.64,1)}[_nghost-%COMP%]   tui-root._mobile.tui-leave[_nghost-%COMP%], tui-root._mobile   .tui-leave[_nghost-%COMP%]{animation:tuiFade var(--tui-duration) ease-in-out reverse,tuiScale var(--tui-duration) ease-in-out reverse}[_nghost-%COMP%]:before{content:"";position:absolute;top:var(--t-top);left:var(--t-left);inline-size:.75rem;block-size:.5rem;background:inherit;-webkit-mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');transform:translate(-50%,-50%) rotate(var(--t-rotate))}._mobile[_nghost-%COMP%]{font:var(--tui-font-text-m)}._mobile[_nghost-%COMP%]:before{inline-size:1.5rem;block-size:1.125rem;-webkit-mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>');mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>')}[data-appearance=error][_nghost-%COMP%]{background:var(--tui-status-negative)}[data-appearance=dark][_nghost-%COMP%]{background:var(--tui-background-elevation-1);color:var(--tui-text-primary);filter:drop-shadow(0 0 .125rem rgba(0,0,0,.16)) drop-shadow(0 1.5rem 1rem rgba(0,0,0,.03)) drop-shadow(0 .75rem .75rem rgba(0,0,0,.04)) drop-shadow(0 .25rem .375rem rgba(0,0,0,.05))}[_nghost-%COMP%]:not([style*=top]){visibility:hidden}._untouchable[_nghost-%COMP%]{pointer-events:none}`],changeDetection:0});let r=e;return r})();var Qr=(()=>{let e=class e{constructor(){this.hints$=a(jr),this.destroyRef=a(Pn),this.cdr=a(Bn),this.hints=[]}ngOnInit(){this.hints$.pipe(le(this.destroyRef)).subscribe(n=>{this.hints=n,this.cdr.detectChanges()})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=O({type:e,selectors:[["tui-hints"]],hostAttrs:["aria-live","polite"],decls:1,vars:1,consts:[["role","tooltip","tuiAnimatedParent","",3,"tuiActiveZoneParent",4,"ngFor","ngForOf"],["role","tooltip","tuiAnimatedParent","",3,"tuiActiveZoneParent"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(i,o){i&1&&L(0,qi,2,5,"div",0),i&2&&f("ngForOf",o.hints)},dependencies:[He,Oe,xe,rt],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;block-size:0}"]});let r=e;return r})();var Wi=(()=>{let e=class e extends Or{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=z(e)))(o||e)}})(),e.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var Gr=(()=>{let e=class e extends xr{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=z(e)))(o||e)}})(),e.\u0275cmp=O({type:e,selectors:[["tui-popups"]],features:[N([Mr(Wi)]),Q],decls:2,vars:0,consts:[["viewContainer",""]],template:function(i,o){i&1&&Rn(0,null,0)},encapsulation:2,changeDetection:0});let r=e;return r})();var Ki=["*",[["tuiOverContent"]],[["tuiOverDialogs"]],[["tuiOverAlerts"]],[["tuiOverDropdowns"]],[["tuiOverHints"]]],Yi=["*","tuiOverContent","tuiOverDialogs","tuiOverAlerts","tuiOverDropdowns","tuiOverHints"];function Zi(r,e){r&1&&v(0,"tui-scroll-controls",3)}function Ji(r,e){if(r&1&&(Lt(0),L(1,Zi,1,0,"tui-scroll-controls",2),v(2,"tui-popups"),G(3,1),v(4,"tui-dialogs"),G(5,2),v(6,"tui-alerts"),G(7,3),v(8,"tui-dropdowns"),G(9,4),v(10,"tui-hints"),G(11,5),Ht()),r&2){let t=b();s(),f("ngIf",t.scrollbars)}}var $r=(()=>{let e=class e{constructor(){this.doc=a(me),this.el=H(),this.reducedMotion=a(nr),this.duration=br(a(rr)),this.isChildRoot=!!a(e,{optional:!0,skipSelf:!0}),this.top=S(!this.isChildRoot),this.isMobileRes=tt(a(vr).pipe(T(i=>i==="mobile"),Jt()),{initialValue:!1}),this.nativeScrollbar=a(_r).mode==="native",this.scrollbars=!this.nativeScrollbar&&!a(de)&&!this.isChildRoot;let n=a(Ae);n.removeStylesOnCompDestroy=!1,n.delegate&&(n.delegate.removeStylesOnCompDestroy=!1),this.top()&&(this.doc.documentElement.setAttribute("data-tui-theme",a(ir).toLowerCase()),this.nativeScrollbar||this.doc.defaultView?.document.documentElement.classList.add("tui-zero-scrollbar"))}get isTopLayer(){return this.doc.fullscreenElement?.matches("tui-root")?this.doc.fullscreenElement===this.el:!this.isChildRoot}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=O({type:e,selectors:[["tui-root"]],hostAttrs:["data-tui-version","4.60.0"],hostVars:6,hostBindings:function(i,o){i&1&&M("touchstart.passive.zoneless",function(){return 0})("fullscreenchange",function(){return o.top.set(o.isTopLayer)},Fe),i&2&&(Qt("--tui-duration",o.duration,"ms")("--tui-scroll-behavior",o.reducedMotion?"auto":"smooth"),J("_mobile",o.isMobileRes()))},features:[se([Ar,Br,sr,xe])],ngContentSelectors:Yi,decls:3,vars:1,consts:[[1,"t-root-content"],[4,"ngIf"],["class","t-root-scrollbar",4,"ngIf"],[1,"t-root-scrollbar"]],template:function(i,o){i&1&&(Le(Ki),c(0,"div",0),G(1),l(),L(2,Ji,12,1,"ng-container",1)),i&2&&(s(2),f("ngIf",o.top()))},dependencies:[$t,Lr,Pr,wr,Qr,Gr,yr],styles:[`@keyframes tuiSkeletonVibe{to{opacity:.5}}@keyframes tuiPresent{to{content:""}}@keyframes tuiFade{0%{opacity:0}}@keyframes tuiSlide{0%{transform:var(--tui-from, translateY(100%))}}@keyframes tuiScale{0%{transform:scale(var(--tui-scale, 0))}}@keyframes tuiCollapse{0%{grid-template-rows:0fr}to{grid-template-rows:1fr}}.tui-enter,.tui-leave{animation-duration:var(--tui-duration);animation-timing-function:ease-in-out;pointer-events:none}.tui-leave{animation-direction:reverse}
`,`.tui-zero-scrollbar{scrollbar-width:none;-ms-overflow-style:none}.tui-zero-scrollbar::-webkit-scrollbar,.tui-zero-scrollbar::-webkit-scrollbar-thumb{display:none}body,input{margin:0}tui-root{position:relative;display:block;font:var(--tui-font-text-s);color:var(--tui-text-primary);flex:1;border-image:conic-gradient(var(--tui-background-base) 0 0) fill 0/0/0 0 100vh 0;-webkit-tap-highlight-color:transparent}:root{--tui-inline-start: left;--tui-inline-end: right;--tui-inline: 1}[dir=rtl]{--tui-inline-start: right;--tui-inline-end: left;--tui-inline: -1}tui-root>.t-root-scrollbar{position:fixed;top:0;left:0;bottom:0;right:0;z-index:0;display:none;margin:0}[data-tui-theme] tui-root>.t-root-scrollbar{display:block}.t-root-content{position:relative;top:var(--t-root-top);block-size:100%;isolation:isolate}.t-root-content>*{--t-root-top: 0}[tuiDropdownButton][tuiDropdownButton]{display:none}
`],encapsulation:2});let r=e;return r})();var dn="qr_code_preferences",xt=class r{storage=a(Ge);getDefaultOptions(){return R({},Pe)}getUserPreferences(){let e=this.storage.getItem(dn);return e&&this.isValidPreferences(e)?e:R({},or)}saveUserPreferences(e){if(!this.isValidPreferences(e))throw new Error("Invalid preferences object");this.storage.setItem(dn,e)}updatePreferences(e){let t=this.getUserPreferences(),n=R(R({},t),e);this.saveUserPreferences(n)}resetToDefaults(){this.storage.removeItem(dn)}isValidPreferences(e){return!!(e&&typeof e=="object"&&"defaultSize"in e&&"defaultErrorCorrection"in e&&"defaultFormat"in e&&"colorDark"in e&&"colorLight"in e)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var Wr=4296;var Xi=200;function pn(r){return!r||r.trim().length===0?{valid:!1,reason:"QR code data cannot be empty"}:r.length>Wr?{valid:!1,reason:`QR code data exceeds maximum length (${Wr} characters)`}:{valid:!0}}function Kr(r){let e=pn(r);if(!e.valid)return e;try{new URL(r)}catch{return{valid:!1,reason:"Invalid URL format"}}return r.length>Xi?{valid:!0,recommendation:"URL is quite long. Consider using a shortened URL for a smaller, more scannable QR code."}:{valid:!0}}function Yr(r){return r<=50?128:r<=150?256:r<=300?512:1024}var Ot=class r{configService=a(xt);generateQrCode(e,t){let n=pn(e);if(!n.valid)return P({success:!1,data:e,options:Pe,error:n.reason||"Invalid QR code data",timestamp:new Date().toISOString()});let i=this.configService.getUserPreferences(),o=R(pe(R({},Pe),{width:i.defaultSize,errorCorrectionLevel:i.defaultErrorCorrection,colorDark:i.colorDark,colorLight:i.colorLight}),t),h=this.optimizeOptionsForData(e,o);return P({success:!0,data:e,options:h,timestamp:new Date().toISOString()})}getRecommendedErrorCorrection(e,t=!1){return t?"H":e>300?"L":"M"}optimizeOptionsForData(e,t){let n=Yr(e.length),i=this.getRecommendedErrorCorrection(e.length);return pe(R({},t),{width:t.width||n,errorCorrectionLevel:t.errorCorrectionLevel||i})}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var Mt=class r{downloadAsPng(e,t){let n=e.toDataURL("image/png");this.triggerDownload(n,`${t}.png`)}downloadAsJpeg(e,t,n=.92){if(!e.getContext("2d"))throw new Error("Canvas context not available");let o=document.createElement("canvas");o.width=e.width,o.height=e.height;let h=o.getContext("2d");if(!h)throw new Error("Temporary canvas context not available");h.fillStyle="#FFFFFF",h.fillRect(0,0,o.width,o.height),h.drawImage(e,0,0);let g=o.toDataURL("image/jpeg",n);this.triggerDownload(g,`${t}.jpeg`)}downloadAsSvg(e,t){let i=new XMLSerializer().serializeToString(e),o=new Blob([i],{type:"image/svg+xml"}),h=URL.createObjectURL(o);this.triggerDownload(h,`${t}.svg`),setTimeout(()=>URL.revokeObjectURL(h),100)}getDataUrl(e,t){return t==="jpeg"?e.toDataURL("image/jpeg",.92):e.toDataURL("image/png")}async copyImageToClipboard(e){if(!navigator.clipboard||!window.ClipboardItem)throw new Error("Clipboard API not supported in this browser");return new Promise((t,n)=>{e.toBlob(async i=>{if(!i){n(new Error("Failed to create blob from canvas"));return}try{let o=new ClipboardItem({"image/png":i});await navigator.clipboard.write([o]),t()}catch(o){n(o)}},"image/png")})}generateFilename(e){try{let n=new URL(e).hostname.replace(/^www\./,""),i=new Date().toISOString().slice(0,10);return`qrcode-${n}-${i}`}catch{return`qrcode-${new Date().toISOString().slice(0,10)}`}}triggerDownload(e,t){let n=document.createElement("a");n.href=e,n.download=t,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var wt=class r{qrCodeGenerator=a(Ot);qrCodeDownloader=a(Mt);notifications=a(Z);_visible=S(!1);_generating=S(!1);_options=S(null);visible=this._visible.asReadonly();generating=this._generating.asReadonly();options=this._options.asReadonly();async generateQrCode(e){if(!e){this.notifications.warning("notifications.noUrlForQrCode");return}let t=Kr(e);if(!t.valid){this.notifications.error(t.reason||"notifications.invalidUrlForQrCode");return}t.recommendation&&this.notifications.info(t.recommendation),this._generating.set(!0);try{let n=await De(this.qrCodeGenerator.generateQrCode(e));n.success?(this._options.set(n.options),this._visible.set(!0),this.notifications.success("notifications.qrCodeGenerated")):this.notifications.error(n.error||"notifications.qrCodeGenerateFailed")}catch(n){console.error("QR code generation error:",n),this.notifications.error("notifications.qrCodeGenerateFailed")}finally{this._generating.set(!1)}}downloadQrCode(e,t,n,i){if(!t){this.notifications.error("notifications.noUrlForQrCode");return}if(!n){this.notifications.error("notifications.qrCodeNotFound");return}try{let o=this.qrCodeDownloader.generateFilename(t);switch(e){case"png":this.qrCodeDownloader.downloadAsPng(n,o),this.notifications.success("notifications.qrCodeDownloadedPng");break;case"jpeg":this.qrCodeDownloader.downloadAsJpeg(n,o),this.notifications.success("notifications.qrCodeDownloadedJpeg");break;case"svg":i?(this.qrCodeDownloader.downloadAsSvg(i,o),this.notifications.success("notifications.qrCodeDownloadedSvg")):this.notifications.error("notifications.qrCodeNotFound");break}}catch(o){console.error("QR code download error:",o),this.notifications.error("notifications.qrCodeDownloadFailed")}}async copyQrCodeToClipboard(e){if(!e){this.notifications.error("notifications.qrCodeNotFound");return}try{await this.qrCodeDownloader.copyImageToClipboard(e),this.notifications.success("notifications.qrCodeCopied")}catch(t){console.error("QR code copy error:",t),this.notifications.error("notifications.qrCodeCopyFailed")}}updateOptions(e){let t=this._options();t&&this._options.set(R(R({},t),e))}reset(){this._visible.set(!1),this._generating.set(!1),this._options.set(null)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var to=["qrCodeCanvas"],no=["qrCodeSvg"],ro=()=>[import("./chunk-XZVLIMSW.js").then(r=>r.LanguageSwitcherComponent)],io=()=>[import("./chunk-VPFUD5YA.js").then(r=>r.HistoryComponent)];function oo(r,e){r&1&&v(0,"app-language-switcher")}function ao(r,e){r&1&&(c(0,"div",31),d(1,"translate"),c(2,"span",32),m(3),l()()),r&2&&(C("aria-label",p(1,2,"language.switcher.aria.placeholder")),s(3),F("en"))}function so(r,e){r&1&&(m(0),d(1,"translate")),r&2&&y(" ",p(1,1,"urlBuilder.form.baseUrl.error")," ")}function lo(r,e){if(r&1){let t=V();c(0,"app-history",33),M("loadBuild",function(i){I(t);let o=b();return U(o.onLoadBuild(i))}),l()}}function co(r,e){r&1&&(c(0,"div",34),d(1,"translate"),c(2,"div",35),v(3,"div",36),l(),v(4,"div",37),c(5,"div",38),v(6,"div",39)(7,"div",39)(8,"div",39),l()()),r&2&&C("aria-label",p(1,1,"history.loading"))}function po(r,e){r&1&&(c(0,"div",34),d(1,"translate"),c(2,"div",35),v(3,"div",36),l(),v(4,"div",37),c(5,"div",38),v(6,"div",39)(7,"div",39)(8,"div",39),l()()),r&2&&C("aria-label",p(1,1,"history.loading"))}function mo(r,e){r&1&&(c(0,"div",40)(1,"span",41),m(2,"\u26A0"),l(),m(3),d(4,"translate"),l()),r&2&&(s(3),y(" ",p(4,1,"history.error")," "))}var kt=class r{formManager=a(Me);clipboard=a(ut);notifications=a(Z);repository=a(ar);urlShortener=a(Ct);qrCodeOrchestrator=a(wt);qrCodeCanvasRef;qrCodeSvgRef;form=this.formManager.form;constructedUrl=this.formManager.constructedUrl;canSave=this.formManager.canSave;shorteningInProgress=S(!1);shortenedUrl=S(null);qrCodeVisible=this.qrCodeOrchestrator.visible;qrCodeGenerating=this.qrCodeOrchestrator.generating;qrCodeOptions=this.qrCodeOrchestrator.options;async onCopyUrl(){let e=this.constructedUrl();if(!e){this.notifications.warning("notifications.noUrlToCopy");return}(await this.clipboard.copyToClipboard(e.url)).success?this.notifications.success("notifications.urlCopied"):this.notifications.error("notifications.urlCopyFailed")}onSaveBuild(){let e=this.constructedUrl(),t=this.formManager.getFormData();if(!e||!t){this.notifications.warning("notifications.completeFormBeforeSaving");return}try{this.repository.save({finalUrl:e.url,form:t}),this.notifications.success("notifications.buildSaved")}catch{this.notifications.error("notifications.buildSaveFailed")}}onLoadBuild(e){this.formManager.loadFormData(e.form),this.notifications.info("notifications.buildLoaded"),e.shortenedUrl?this.shortenedUrl.set(e.shortenedUrl):this.shortenedUrl.set(null)}async onShortenUrl(){let e=this.constructedUrl();if(!e){this.notifications.warning("notifications.noUrlToShorten");return}this.shorteningInProgress.set(!0);try{let t=await De(this.urlShortener.shortenUrl(e.url));t.success?(this.shortenedUrl.set(t.shortUrl),this.notifications.success("notifications.urlShortened",{provider:t.provider})):this.handleShorteningError(t.error)}catch(t){console.error("URL shortening error:",t),this.notifications.error("notifications.urlShortenFailed")}finally{this.shorteningInProgress.set(!1)}}handleShorteningError(e){switch(e&&typeof e=="object"&&"type"in e?e.type:"UNKNOWN"){case"RATE_LIMIT":this.notifications.warning("notifications.rateLimitExceeded");break;case"INVALID_URL":this.notifications.error("notifications.invalidUrlFormat");break;case"NETWORK_ERROR":this.notifications.error("notifications.networkError");break;case"API_ERROR":this.notifications.error("notifications.serviceUnavailable");break;default:this.notifications.error("notifications.urlShortenFailed")}}onAddParameter(){this.formManager.addParameter()}onRemoveParameter(e){this.formManager.removeParameter(e)}get params(){return this.formManager.params}async onGenerateQrCode(){let e=this.shortenedUrl()||this.constructedUrl()?.url;e&&await this.qrCodeOrchestrator.generateQrCode(e)}onDownloadQrCode(e){let t=this.shortenedUrl()||this.constructedUrl()?.url;if(!t)return;let n=this.getQrCodeCanvas(),i=this.getQrCodeSvg();this.qrCodeOrchestrator.downloadQrCode(e,t,n,i)}async onCopyQrCode(){let e=this.getQrCodeCanvas();await this.qrCodeOrchestrator.copyQrCodeToClipboard(e)}onQrCodeOptionsChange(e){this.qrCodeOrchestrator.updateOptions(e)}getQrCodeCanvas(){return this.qrCodeCanvasRef?.nativeElement?this.qrCodeCanvasRef.nativeElement:document.querySelector("qrcode canvas")}getQrCodeSvg(){return this.qrCodeSvgRef?.nativeElement?this.qrCodeSvgRef.nativeElement:document.querySelector("qrcode svg")}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=O({type:r,selectors:[["app-root"]],viewQuery:function(t,n){if(t&1&&(Vt(to,5,Ut),Vt(no,5,Ut)),t&2){let i;jt(i=zt())&&(n.qrCodeCanvasRef=i.first),jt(i=zt())&&(n.qrCodeSvgRef=i.first)}},features:[N([Me])],decls:65,vars:49,consts:[[500,100],[500],[1,"app-shell"],["role","banner",1,"header"],[1,"brand"],["src","assets/logo.svg","alt","Flashy Logo","width","32","height","32",1,"logo"],[1,"brand-text"],[1,"brand-title"],[1,"header-controls"],[1,"theme-toggle-wrapper"],["role","main","id","main-content",1,"main-content"],[1,"builder-area"],["novalidate","",1,"form-card",3,"ngSubmit","formGroup"],[1,"form-group"],["for","baseUrl"],[1,"required"],[1,"input-with-prefix"],["aria-hidden","true","tuiHintDirection","bottom-left",1,"input-prefix",3,"tuiHint"],["id","baseUrl","type","text","formControlName","baseUrl","aria-describedby","baseUrl-error",1,"input-with-prefix-field",3,"placeholder"],["id","baseUrl-error","role","alert",1,"error"],[1,"utm-fieldset"],[1,"form-row"],["for","utmSource"],["id","utmSource","type","text","formControlName","utmSource",3,"placeholder"],["for","utmMedium"],["id","utmMedium","type","text","formControlName","utmMedium",3,"placeholder"],["for","utmCampaign"],["id","utmCampaign","type","text","formControlName","utmCampaign",3,"placeholder"],[3,"paramsArray","onAdd","onRemove"],[3,"copyClicked","saveClicked","shortenClicked","qrCodeRequested","qrCodeDownloadRequested","qrCodeCopyRequested","qrCodeOptionsChanged","urlData","saveDisabled","shorteningInProgress","shortenedUrl","qrCodeVisible","qrCodeGenerating","qrCodeOptions"],["role","complementary",1,"history-area"],["role","button",1,"language-placeholder"],[1,"language-code"],[3,"loadBuild"],["role","status",1,"history-skeleton-card"],[1,"skeleton-header"],[1,"skeleton-title"],[1,"skeleton-search"],[1,"skeleton-list"],[1,"skeleton-item"],[1,"error-card"],[1,"placeholder-icon"]],template:function(t,n){if(t&1&&(c(0,"tui-root",2),v(1,"app-toast-notification"),c(2,"header",3)(3,"div",4),v(4,"img",5),c(5,"div",6)(6,"h1",7),m(7),d(8,"translate"),l()()(),c(9,"div",8),ge(10,oo,1,0)(11,ao,4,4),fe(12,10,ro,null,11),Tn(0,-1),v(14,"app-theme-toggle",9),l()(),c(15,"main",10)(16,"div",11)(17,"form",12),M("ngSubmit",function(o){return o.preventDefault()}),c(18,"div",13)(19,"label",14),m(20),d(21,"translate"),c(22,"span",15),m(23,"*"),l()(),c(24,"div",16)(25,"span",17),d(26,"translate"),m(27," https:// "),l(),v(28,"input",18),d(29,"translate"),l(),c(30,"small",19),D(31,so,2,3),l()(),c(32,"fieldset",20)(33,"legend"),m(34),d(35,"translate"),l(),c(36,"div",21)(37,"div",13)(38,"label",22),m(39),d(40,"translate"),l(),v(41,"input",23),d(42,"translate"),l(),c(43,"div",13)(44,"label",24),m(45),d(46,"translate"),l(),v(47,"input",25),d(48,"translate"),l(),c(49,"div",13)(50,"label",26),m(51),d(52,"translate"),l(),v(53,"input",27),d(54,"translate"),l()()(),v(55,"app-dynamic-params",28),l(),c(56,"app-url-preview",29),M("copyClicked",function(){return n.onCopyUrl()})("saveClicked",function(){return n.onSaveBuild()})("shortenClicked",function(){return n.onShortenUrl()})("qrCodeRequested",function(){return n.onGenerateQrCode()})("qrCodeDownloadRequested",function(o){return n.onDownloadQrCode(o)})("qrCodeCopyRequested",function(){return n.onCopyQrCode()})("qrCodeOptionsChanged",function(o){return n.onQrCodeOptionsChange(o)}),l()(),c(57,"aside",30),d(58,"translate"),ge(59,lo,1,0)(60,co,9,3)(61,po,9,3)(62,mo,5,3),fe(63,59,io,60,61,62,0,1,Ne),Sn(0,-1),kn(),l()()()),t&2){let i,o;s(7),F(p(8,25,"app.title")),s(10),f("formGroup",n.form),s(3),y("",p(21,27,"urlBuilder.form.baseUrl.label")," "),s(5),f("tuiHint",p(26,29,"urlBuilder.form.baseUrl.prefixDescription")),s(3),f("placeholder",p(29,31,"urlBuilder.form.baseUrl.placeholder")),C("aria-invalid",((i=n.form.get("baseUrl"))==null?null:i.invalid)&&((i=n.form.get("baseUrl"))==null?null:i.touched)),s(3),E((o=n.form.get("baseUrl"))!=null&&o.invalid&&((o=n.form.get("baseUrl"))!=null&&o.touched)?31:-1),s(3),F(p(35,33,"urlBuilder.form.utmParams.legend")),s(5),F(p(40,35,"urlBuilder.form.utmParams.source.label")),s(2),f("placeholder",p(42,37,"urlBuilder.form.utmParams.source.placeholder")),s(4),F(p(46,39,"urlBuilder.form.utmParams.medium.label")),s(2),f("placeholder",p(48,41,"urlBuilder.form.utmParams.medium.placeholder")),s(4),F(p(52,43,"urlBuilder.form.utmParams.campaign.label")),s(2),f("placeholder",p(54,45,"urlBuilder.form.utmParams.campaign.placeholder")),s(2),f("paramsArray",n.params)("onAdd",n.onAddParameter.bind(n))("onRemove",n.onRemoveParameter.bind(n)),s(),f("urlData",n.constructedUrl())("saveDisabled",!n.canSave())("shorteningInProgress",n.shorteningInProgress())("shortenedUrl",n.shortenedUrl())("qrCodeVisible",n.qrCodeVisible())("qrCodeGenerating",n.qrCodeGenerating())("qrCodeOptions",n.qrCodeOptions()),s(),C("aria-label",p(58,47,"history.aria.region"))}},dependencies:[Je,Yn,$e,We,Ke,Ye,Ze,$r,Pt,at,lt,ct,pt,Y],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.language-placeholder[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.5rem .75rem;border-radius:8px;background:#94a3b81a;cursor:wait;opacity:.7}.language-placeholder[_ngcontent-%COMP%]   .language-code[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--color-text-primary)}.app-shell[_ngcontent-%COMP%]{position:relative;min-height:100vh;padding-inline:clamp(1.25rem,5vw,3.75rem);padding-block:clamp(1.5rem,6vw,4.5rem);background:var(--color-background-primary);background-attachment:fixed;transition:background var(--transition-slow);color:var(--color-text-primary);overflow:hidden;isolation:isolate;font-family:var(--tui-font-text)}.app-shell[_ngcontent-%COMP%]:before, .app-shell[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-25% auto auto -10%;width:clamp(18rem,35vw,28rem);height:clamp(18rem,35vw,28rem);border-radius:50%;background:radial-gradient(circle,rgba(255,255,255,.32),transparent 70%);filter:blur(42px);z-index:-1}.app-shell[_ngcontent-%COMP%]:after{inset:auto -15% -30% auto;background:radial-gradient(circle,rgba(102,126,234,.55),transparent 70%)}.main-content[_ngcontent-%COMP%]{max-width:clamp(900px,90vw,1440px);margin-inline:auto;display:grid;grid-template-columns:minmax(0,2fr) minmax(280px,1fr);gap:clamp(1.75rem,4vw,2.75rem);align-items:start}.main-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:0}.header[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;justify-content:space-between;align-items:center;padding:clamp(.75rem,2vw,1rem) clamp(1.25rem,3vw,1.75rem);margin-bottom:clamp(1.5rem,3vw,2rem);border-radius:12px;box-shadow:0 1px 3px #0f172a14,0 1px 2px #0f172a0f;position:relative;z-index:10;overflow:visible;-webkit-backdrop-filter:blur(12px) saturate(1.1);backdrop-filter:blur(12px) saturate(1.1);background:linear-gradient(135deg,#ffffffe6,#ffffffb3);border:1px solid rgba(148,163,184,.2);border-bottom:1px solid rgba(148,163,184,.25);transition:all var(--transition-normal)}[data-theme=dark][_nghost-%COMP%]   .header[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293bf2,#0f172ae6);border-color:#94a3b826;border-bottom-color:#94a3b833;box-shadow:0 1px 3px #0000004d,0 1px 2px #0003}.header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:32px;height:32px;flex-shrink:0;transition:transform var(--transition-fast)}.header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;line-height:1}.header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-title[_ngcontent-%COMP%]{margin:0;font-size:clamp(16px,2.5vw,18px);font-weight:700;color:var(--color-text-primary);letter-spacing:-.015em;line-height:1.2}[data-theme=dark][_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-title[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-title[_ngcontent-%COMP%]{color:#fffffffa}.header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-subtitle[_ngcontent-%COMP%]{font-size:clamp(11px,1.8vw,12px);font-weight:500;letter-spacing:.05em;text-transform:uppercase;color:var(--color-text-tertiary);line-height:1}[data-theme=dark][_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-subtitle[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-subtitle[_ngcontent-%COMP%]{color:#94a3b8d9}.header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;position:relative;z-index:11}.header[_ngcontent-%COMP%]   .theme-toggle-wrapper[_ngcontent-%COMP%]{filter:none}.builder-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:clamp(1.35rem,3vw,2.2rem)}.form-card[_ngcontent-%COMP%]{display:grid;gap:clamp(1.2rem,3vw,1.8rem);background:var(--color-surface-primary);border-radius:clamp(16px,3vw,24px);padding:clamp(1.5rem,3vw,2.25rem);border:1px solid rgba(148,163,184,.18);box-shadow:0 24px 48px #0f172a2e;transition:background var(--transition-normal),border-color var(--transition-normal),box-shadow var(--transition-normal)}@supports (backdrop-filter: blur(18px)){.form-card[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(18px) saturate(1.08);backdrop-filter:blur(18px) saturate(1.08);background:linear-gradient(135deg,#ffffffc7,#ffffff94)}[data-theme=dark][_nghost-%COMP%]   .form-card[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .form-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293bdb,#0f172ad6);border-color:#94a3b86b;box-shadow:0 24px 48px #00000059,0 0 0 1px #94a3b826 inset}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6rem}.input-with-prefix[_ngcontent-%COMP%]{display:flex;align-items:stretch;border:1px solid var(--color-input-border);border-radius:10px;background:var(--color-input-background);transition:border-color var(--transition-fast),box-shadow var(--transition-fast);overflow:hidden}.input-with-prefix[_ngcontent-%COMP%]:focus-within{border-color:var(--color-input-border-focus);box-shadow:0 0 0 3px var(--color-focus-ring)}.input-with-prefix[_ngcontent-%COMP%]:focus-within   .input-prefix[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea14,#667eea0a);border-right-color:#667eea40;color:var(--color-brand-primary)}.input-with-prefix[_ngcontent-%COMP%]:hover:not(:focus-within){border-color:color-mix(in srgb,var(--color-input-border-focus) 40%,var(--color-input-border) 60%)}.input-with-prefix[_ngcontent-%COMP%]:hover:not(:focus-within)   .input-prefix[_ngcontent-%COMP%]{background:linear-gradient(135deg,#94a3b814,#94a3b80a)}.input-with-prefix[_ngcontent-%COMP%]:has(.input-with-prefix-field[aria-invalid=true]){border-color:var(--color-error)}.input-with-prefix[_ngcontent-%COMP%]:has(.input-with-prefix-field[aria-invalid=true]):focus-within{box-shadow:0 0 0 3px color-mix(in srgb,var(--color-error) 25%,transparent)}.input-with-prefix[_ngcontent-%COMP%]:has(.input-with-prefix-field[aria-invalid=true])   .input-prefix[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44440f,#ef444408);border-right-color:#ef444440;color:color-mix(in srgb,var(--color-error) 85%,var(--color-text-primary) 15%)}.input-with-prefix[_ngcontent-%COMP%]   .input-prefix[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.75rem .875rem;font-family:ui-monospace,Monaco,monospace;font-size:.875rem;font-weight:500;color:var(--color-text-tertiary);-webkit-user-select:none;user-select:none;pointer-events:none;background:linear-gradient(135deg,#94a3b80f,#94a3b808);border-right:1px solid rgba(148,163,184,.2);transition:all var(--transition-fast)}.input-with-prefix[_ngcontent-%COMP%]   .input-with-prefix-field[_ngcontent-%COMP%]{flex:1;border:none;background:transparent;padding:.75rem 1rem;font-family:var(--tui-font-text);font-size:.9375rem;font-weight:500;color:var(--color-input-text);outline:none;box-shadow:none!important}.input-with-prefix[_ngcontent-%COMP%]   .input-with-prefix-field[_ngcontent-%COMP%]::placeholder{color:var(--color-input-placeholder);font-weight:400;opacity:.7}.input-with-prefix[_ngcontent-%COMP%]   .input-with-prefix-field[_ngcontent-%COMP%]:focus{outline:none;border:none;box-shadow:none}[data-theme=dark][_nghost-%COMP%]   .input-with-prefix[_ngcontent-%COMP%]   .input-prefix[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .input-with-prefix[_ngcontent-%COMP%]   .input-prefix[_ngcontent-%COMP%]{color:#94a3b8d9;background:linear-gradient(135deg,#94a3b814,#94a3b80a);border-right-color:#94a3b840}[data-theme=dark][_nghost-%COMP%]   .input-with-prefix[_ngcontent-%COMP%]:focus-within   .input-prefix[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .input-with-prefix[_ngcontent-%COMP%]:focus-within   .input-prefix[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f11f,#6366f10f);border-right-color:#6366f14d}.form-label[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem;font-family:var(--tui-font-text);font-size:.9375rem;font-weight:600;line-height:1.5;color:color-mix(in srgb,var(--color-text-primary) 92%,white 8%)}.form-label[_ngcontent-%COMP%]   .label-text[_ngcontent-%COMP%], label[_ngcontent-%COMP%]   .label-text[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem}.form-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%], label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:color-mix(in srgb,var(--color-error) 80%,white 20%);font-size:.875rem;font-weight:700;letter-spacing:.08em}.error[_ngcontent-%COMP%]{color:var(--color-error);font:var(--tui-font-text-xs);font-weight:600;display:inline-flex;align-items:center;gap:.3rem;min-height:1.25rem;opacity:1;transform:translateY(0);transition:opacity var(--transition-fast),transform var(--transition-fast)}.error[_ngcontent-%COMP%]:before{content:"\\26a0";font-size:.9rem}.error[_ngcontent-%COMP%]:empty{opacity:0;transform:translateY(-4px);visibility:hidden}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:clamp(.85rem,2.8vw,1.35rem)}[dir=rtl][_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{direction:rtl}.utm-fieldset[_ngcontent-%COMP%]{margin:0;border-radius:16px;padding:clamp(1.25rem,3vw,1.6rem);padding-top:clamp(1.5rem,3vw,1.85rem);display:grid;gap:clamp(.9rem,2.5vw,1.1rem);border:1px solid rgba(148,163,184,.2);background:linear-gradient(135deg,#fff9,#fff6);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);transition:all var(--transition-normal)}.utm-fieldset[_ngcontent-%COMP%]:hover{border-color:#667eea4d;box-shadow:0 4px 12px #667eea14}[data-theme=dark][_nghost-%COMP%]   .utm-fieldset[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .utm-fieldset[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293bb3,#0f172a99);border-color:#94a3b840}[data-theme=dark][_nghost-%COMP%]   .utm-fieldset[_ngcontent-%COMP%]:hover, [data-theme=dark]   [_nghost-%COMP%]   .utm-fieldset[_ngcontent-%COMP%]:hover{border-color:#6366f166;box-shadow:0 4px 12px #6366f11f}.utm-fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font:var(--tui-font-text-ui-s);font-size:.8125rem;font-weight:600;letter-spacing:.15em;text-transform:uppercase;color:color-mix(in srgb,var(--color-text-primary) 88%,white 12%);padding:0 .5rem;margin-bottom:.25rem;line-height:1.2;float:left}.utm-fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{clear:both}.history-area[_ngcontent-%COMP%]{position:sticky;top:clamp(1.75rem,4vw,2.75rem);display:flex;flex-direction:column;gap:clamp(1rem,3vw,1.5rem)}.placeholder-card[_ngcontent-%COMP%], .loading-card[_ngcontent-%COMP%], .error-card[_ngcontent-%COMP%]{display:grid;place-items:center;text-align:center;gap:.75rem;color:var(--color-text-tertiary);font:var(--tui-font-text-m);background:var(--color-surface-primary);border-radius:clamp(16px,3vw,24px);padding:clamp(1.6rem,3vw,2.1rem);border:1px solid rgba(148,163,184,.18);box-shadow:0 24px 48px #0f172a2e;transition:background var(--transition-normal),border-color var(--transition-normal),box-shadow var(--transition-normal)}@supports (backdrop-filter: blur(18px)){.placeholder-card[_ngcontent-%COMP%], .loading-card[_ngcontent-%COMP%], .error-card[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(18px) saturate(1.08);backdrop-filter:blur(18px) saturate(1.08);background:linear-gradient(135deg,#ffffffc7,#ffffff94)}[data-theme=dark][_nghost-%COMP%]   .placeholder-card[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .placeholder-card[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .loading-card[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .loading-card[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .error-card[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .error-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293bdb,#0f172ad6);border-color:#94a3b86b;box-shadow:0 24px 48px #00000059,0 0 0 1px #94a3b826 inset}}.loading-card[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid rgba(102,126,234,.2);border-top-color:var(--color-brand-primary);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}[data-theme=dark][_nghost-%COMP%]   .loading-card[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .loading-card[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border-color:#6366f14d;border-top-color:var(--color-brand-primary)}.error-card[_ngcontent-%COMP%]{border:1px solid rgba(239,68,68,.35);color:color-mix(in srgb,var(--color-error) 85%,white 15%);background:linear-gradient(145deg,#fee2e28c,#ffffffbf)}[data-theme=dark][_nghost-%COMP%]   .error-card[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .error-card[_ngcontent-%COMP%]{background:linear-gradient(145deg,#4c1d9559,#ef444440)}.placeholder-icon[_ngcontent-%COMP%]{font-size:1.75rem}.history-skeleton-card[_ngcontent-%COMP%]{display:grid;gap:1.25rem;background:var(--color-surface-primary);border-radius:clamp(16px,3vw,24px);padding:clamp(1.4rem,3vw,2rem);border:1px solid rgba(148,163,184,.18);box-shadow:0 24px 48px #0f172a2e;transition:background var(--transition-normal),border-color var(--transition-normal),box-shadow var(--transition-normal)}@supports (backdrop-filter: blur(18px)){.history-skeleton-card[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(18px) saturate(1.08);backdrop-filter:blur(18px) saturate(1.08);background:linear-gradient(135deg,#ffffffc7,#ffffff94)}[data-theme=dark][_nghost-%COMP%]   .history-skeleton-card[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .history-skeleton-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293bdb,#0f172ad6);border-color:#94a3b86b;box-shadow:0 24px 48px #00000059,0 0 0 1px #94a3b826 inset}}.history-skeleton-card[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%], .history-skeleton-card[_ngcontent-%COMP%]   .skeleton-search[_ngcontent-%COMP%], .history-skeleton-card[_ngcontent-%COMP%]   .skeleton-item[_ngcontent-%COMP%]{background:linear-gradient(90deg,#94a3b81a,#94a3b833,#94a3b81a);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;border-radius:8px}.history-skeleton-card[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%]{height:2rem;width:60%}.history-skeleton-card[_ngcontent-%COMP%]   .skeleton-search[_ngcontent-%COMP%]{height:2.5rem;border-radius:12px}.history-skeleton-card[_ngcontent-%COMP%]   .skeleton-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.history-skeleton-card[_ngcontent-%COMP%]   .skeleton-item[_ngcontent-%COMP%]{height:4rem;border-radius:12px}.history-skeleton-card[_ngcontent-%COMP%]   .skeleton-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.15s}.history-skeleton-card[_ngcontent-%COMP%]   .skeleton-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}[data-theme=dark][_nghost-%COMP%]   .history-skeleton-card[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .history-skeleton-card[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .history-skeleton-card[_ngcontent-%COMP%]   .skeleton-search[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .history-skeleton-card[_ngcontent-%COMP%]   .skeleton-search[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .history-skeleton-card[_ngcontent-%COMP%]   .skeleton-item[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .history-skeleton-card[_ngcontent-%COMP%]   .skeleton-item[_ngcontent-%COMP%]{background:linear-gradient(90deg,#94a3b81f,#94a3b838,#94a3b81f)}@media (max-width: 1199px) and (min-width: 900px){.main-content[_ngcontent-%COMP%]{grid-template-columns:minmax(0,1.5fr) minmax(260px,1fr);gap:clamp(1.5rem,3vw,2rem)}.history-area[_ngcontent-%COMP%]{position:sticky;top:clamp(1.5rem,3vw,2rem)}}@media (max-width: 899px) and (min-width: 769px){.main-content[_ngcontent-%COMP%]{grid-template-columns:minmax(0,1.3fr) minmax(240px,.7fr);gap:clamp(1.25rem,3vw,1.75rem)}.history-area[_ngcontent-%COMP%]{position:sticky;top:clamp(1.25rem,3vw,1.75rem)}}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{grid-template-columns:minmax(0,1fr)}.history-area[_ngcontent-%COMP%]{position:static}}@media (max-width: 768px){.app-shell[_ngcontent-%COMP%]{padding-inline:clamp(1rem,7vw,1.75rem);padding-block:clamp(1.25rem,8vw,2.75rem);background-attachment:scroll;min-height:100dvh}.main-content[_ngcontent-%COMP%]{gap:clamp(1.35rem,6vw,2rem)}.header[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;padding:clamp(.875rem,3vw,1rem)}.header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{width:100%;justify-content:center}.header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]{width:100%;justify-content:center;gap:1rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 480px){.header[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;padding:.625rem 1rem;gap:.5rem}.header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{width:auto;justify-content:flex-start;gap:.5rem}.header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:24px;height:24px}.header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .brand-title[_ngcontent-%COMP%]{font-size:15px}.header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]{width:auto;justify-content:flex-end;gap:.625rem}.form-card[_ngcontent-%COMP%]{padding:clamp(1.2rem,10vw,1.6rem)}.builder-area[_ngcontent-%COMP%]{gap:1.1rem}.placeholder-card[_ngcontent-%COMP%], .error-card[_ngcontent-%COMP%]{padding:clamp(1.4rem,9vw,1.8rem)}.utm-fieldset[_ngcontent-%COMP%]{padding:1rem;gap:.85rem}.utm-fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-size:.75rem}.input-with-prefix[_ngcontent-%COMP%]   .input-prefix[_ngcontent-%COMP%]{padding:.625rem .75rem;font-size:.8125rem}.input-with-prefix[_ngcontent-%COMP%]   .input-with-prefix-field[_ngcontent-%COMP%]{padding:.625rem .875rem;font-size:.9rem}input[type=text][_ngcontent-%COMP%], input[type=url][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=search][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{min-height:44px;padding:.625rem .875rem}}@media (max-width: 360px){.app-shell[_ngcontent-%COMP%]{padding-inline:.875rem;padding-block:1rem;overflow-x:hidden}.header[_ngcontent-%COMP%]{padding:.625rem .75rem;margin-inline:0}.main-content[_ngcontent-%COMP%]{gap:1rem}.main-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:0;max-width:100%}.form-card[_ngcontent-%COMP%]{padding:1rem .875rem}.form-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.builder-area[_ngcontent-%COMP%]{gap:.95rem}.form-group[_ngcontent-%COMP%]{gap:.5rem}.utm-fieldset[_ngcontent-%COMP%]{padding:1.125rem .75rem .875rem;gap:.75rem}.utm-fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-size:.7rem;padding:0 .375rem}.form-row[_ngcontent-%COMP%]{gap:.75rem}.input-with-prefix[_ngcontent-%COMP%]   .input-prefix[_ngcontent-%COMP%]{padding:.65rem .75rem;font-size:.8125rem}.input-with-prefix[_ngcontent-%COMP%]   .input-with-prefix-field[_ngcontent-%COMP%]{padding:.65rem .875rem;font-size:.875rem}input[type=text][_ngcontent-%COMP%], input[type=url][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=search][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:.65rem .875rem;font-size:.875rem;width:100%;max-width:100%}.input-with-prefix[_ngcontent-%COMP%], .input-with-prefix-field[_ngcontent-%COMP%]{width:100%;max-width:100%}.history-skeleton-card[_ngcontent-%COMP%], .placeholder-card[_ngcontent-%COMP%], .error-card[_ngcontent-%COMP%]{padding:1.2rem .875rem}}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}'],changeDetection:0})};Vn(kt,Sr).catch(r=>console.error(r));
