import{ga as T}from"./chunk-6YBSMDBN.js";import{$b as O,Cc as I,Dc as E,Eb as h,Gb as l,Ib as g,Ka as r,Qb as b,Sb as d,Tb as _,Ub as D,Ya as M,Yb as x,Zb as C,_ as w,ca as p,da as u,ja as f,nb as m,ob as v,pb as P,rb as k,sb as y,sc as S,tb as L,ub as i,vb as c}from"./chunk-NMTPRFMO.js";var F=o=>({language:o}),z=(o,e)=>e.code;function V(o,e){if(o&1){let n=h();i(0,"button",6),C(1,"translate"),l("click",function(){let a=p(n).$implicit,s=g(2);return u(s.selectLocale(a.code))}),i(2,"span",7),d(3),c(),i(4,"span",8),d(5),c()()}if(o&2){let n=e.$implicit,t=e.$index,a=g(2);b("active",n.code===a.currentLocale())("focused",a.isOptionFocused(t)),L("tabindex",a.isOptionFocused(t)?0:-1),m("aria-label",O(1,8,"language.switcher.aria.option",x(11,F,n.nativeName))),r(3),_(n.nativeName),r(2),D("(",n.name,")")}}function $(o,e){if(o&1){let n=h();i(0,"div",4),l("keydown",function(a){p(n);let s=g();return u(s.onKeyDown(a))}),k(1,V,6,13,"button",5,z),c()}if(o&2){let n=g();r(),y(n.supportedLocales)}}var N=class o{translationService=w(I);currentLocale=this.translationService.locale$;supportedLocales=this.translationService.supportedLocales;isOpen=f(!1);focusedIndex=f(-1);currentLocaleName(){let e=this.currentLocale();return this.supportedLocales.find(n=>n.code===e)?.nativeName||e}toggleDropdown(){this.isOpen.update(e=>!e),this.isOpen()&&this.focusedIndex.set(0)}async selectLocale(e){await this.translationService.setLocale(e),this.isOpen.set(!1),this.focusedIndex.set(-1)}onKeyDown(e){if(!this.isOpen()){(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.toggleDropdown());return}let n=this.supportedLocales.length-1,t=this.focusedIndex();switch(e.key){case"ArrowDown":e.preventDefault(),this.focusedIndex.set(Math.min(t+1,n));break;case"ArrowUp":e.preventDefault(),this.focusedIndex.set(Math.max(t-1,0));break;case"Home":e.preventDefault(),this.focusedIndex.set(0);break;case"End":e.preventDefault(),this.focusedIndex.set(n);break;case"Enter":case" ":e.preventDefault(),t>=0&&t<=n&&this.selectLocale(this.supportedLocales[t].code);break;case"Escape":e.preventDefault(),this.isOpen.set(!1),this.focusedIndex.set(-1);break}}isOptionFocused(e){return this.focusedIndex()===e}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=M({type:o,selectors:[["app-language-switcher"]],decls:6,vars:12,consts:[[1,"language-switcher"],["tuiButton","","appearance","flat","size","s",1,"language-toggle-button",3,"click","keydown"],[1,"language-code"],["role","menu",1,"language-dropdown"],["role","menu",1,"language-dropdown",3,"keydown"],["type","button","role","menuitem",1,"language-option",3,"active","focused","tabindex"],["type","button","role","menuitem",1,"language-option",3,"click","tabindex"],[1,"locale-native"],[1,"locale-name"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"button",1),C(2,"translate"),l("click",function(){return t.toggleDropdown()})("keydown",function(s){return t.onKeyDown(s)}),i(3,"span",2),d(4),c()(),v(5,$,3,0,"div",3),c()),n&2&&(b("is-open",t.isOpen()),r(),m("aria-label",O(2,7,"language.switcher.aria.toggle",x(10,F,t.currentLocaleName())))("aria-expanded",t.isOpen())("aria-haspopup","menu"),r(3),_(t.currentLocale()),r(),P(t.isOpen()?5:-1))},dependencies:[S,T,E],styles:['.language-switcher[_ngcontent-%COMP%]{position:relative}.language-switcher.is-open[_ngcontent-%COMP%]:before{content:"";position:fixed;inset:0;background:#0f172a40;z-index:999;pointer-events:none;animation:_ngcontent-%COMP%_backdrop-fade-in var(--transition-normal)}@media (prefers-reduced-motion: reduce){.language-switcher.is-open[_ngcontent-%COMP%]:before{animation:none}}.language-toggle-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;display:inline-flex;align-items:center;justify-content:center;padding:.5rem .75rem}.language-toggle-button[_ngcontent-%COMP%]:focus-visible{outline:3px solid rgba(255,255,255,.85);outline-offset:4px;box-shadow:0 0 0 6px #667eea4d}[data-theme=dark][_nghost-%COMP%]   .language-toggle-button[_ngcontent-%COMP%]:focus-visible, [data-theme=dark]   [_nghost-%COMP%]   .language-toggle-button[_ngcontent-%COMP%]:focus-visible{outline-color:#818cf8f2;box-shadow:0 0 0 6px #6366f166}.language-toggle-button[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}.language-code[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600;font-size:.875rem}.language-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;margin-top:.5rem;padding:clamp(.75rem,2vw,1rem);z-index:9999;min-width:200px;border-radius:clamp(12px,2.5vw,16px);border:2px solid rgba(148,163,184,.6);box-shadow:0 24px 48px #0f172a59,0 8px 16px #0f172a33,0 0 0 1px #fff9 inset;transition:background var(--transition-normal),border-color var(--transition-normal),box-shadow var(--transition-normal)}@supports (backdrop-filter: blur(18px)){.language-dropdown[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(18px) saturate(1.08);backdrop-filter:blur(18px) saturate(1.08);background:linear-gradient(135deg,#fffffffa,#f8fafcf7)}}@supports not (backdrop-filter: blur(18px)){.language-dropdown[_ngcontent-%COMP%]{background:#fff}}[dir=rtl][_ngcontent-%COMP%]   .language-dropdown[_ngcontent-%COMP%]{right:auto;left:0;transform-origin:top left}.language-dropdown[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_dropdown-entrance var(--transition-normal) cubic-bezier(.4,0,.2,1);transform-origin:top right}@media (prefers-reduced-motion: reduce){.language-dropdown[_ngcontent-%COMP%]{animation:none}}.language-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;width:100%;min-height:44px;padding:.75rem 1rem;border:none;background:none;cursor:pointer;border-radius:clamp(8px,1.5vw,10px);transition:background-color var(--transition-fast),transform var(--transition-fast),box-shadow var(--transition-fast);text-align:left}.language-option[_ngcontent-%COMP%]:hover{background:#667eea40;transform:translate(4px);box-shadow:0 2px 8px #667eea26}[dir=rtl][_ngcontent-%COMP%]   .language-option[_ngcontent-%COMP%]:hover{transform:translate(-4px)}.language-option.active[_ngcontent-%COMP%]{background:var(--color-brand-primary, #667eea);color:#fff;font-weight:600;box-shadow:0 4px 12px #667eea4d}.language-option.active[_ngcontent-%COMP%]   .locale-name[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500}.language-option.active[_ngcontent-%COMP%]:hover{background:var(--color-brand-primary, #667eea);filter:brightness(1.08);transform:translate(4px)}[dir=rtl][_ngcontent-%COMP%]   .language-option.active[_ngcontent-%COMP%]:hover{transform:translate(-4px)}.language-option.focused[_ngcontent-%COMP%]{background:#667eea33;outline:2px solid var(--color-input-border-focus);outline-offset:2px}.language-option.focused.active[_ngcontent-%COMP%]{background:var(--color-brand-primary, #667eea);outline-color:#ffffffe6}.language-option[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-input-border-focus);outline-offset:2px;background:#667eea33}.language-option[_ngcontent-%COMP%]:focus-visible.active{background:var(--color-brand-primary, #667eea);outline-color:#ffffffe6}.language-option[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}.locale-native[_ngcontent-%COMP%]{font-weight:600}.locale-name[_ngcontent-%COMP%]{color:var(--color-text-tertiary, #9ca3af);font-size:.875rem}[data-theme=dark][_nghost-%COMP%]   .language-switcher.is-open[_ngcontent-%COMP%]:before, [data-theme=dark]   [_nghost-%COMP%]   .language-switcher.is-open[_ngcontent-%COMP%]:before{background:#0006}[data-theme=dark][_nghost-%COMP%]   .language-dropdown[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .language-dropdown[_ngcontent-%COMP%]{border-color:#94a3b8b3;box-shadow:0 24px 48px #0009,0 8px 16px #0006,0 0 0 1px #94a3b866 inset}@supports (backdrop-filter: blur(18px)){[data-theme=dark][_nghost-%COMP%]   .language-dropdown[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .language-dropdown[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293bfa,#0f172af7)}}@supports not (backdrop-filter: blur(18px)){[data-theme=dark][_nghost-%COMP%]   .language-dropdown[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .language-dropdown[_ngcontent-%COMP%]{background:#1e293b}}[data-theme=dark][_nghost-%COMP%]   .language-option[_ngcontent-%COMP%]:hover, [data-theme=dark]   [_nghost-%COMP%]   .language-option[_ngcontent-%COMP%]:hover{background:#818cf84d;box-shadow:0 2px 8px #818cf833}[data-theme=dark][_nghost-%COMP%]   .language-option.focused[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .language-option.focused[_ngcontent-%COMP%]{background:#818cf859}[data-theme=dark][_nghost-%COMP%]   .language-option.active[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .language-option.active[_ngcontent-%COMP%]{background:var(--color-brand-primary, #8b5cf6);box-shadow:0 4px 12px #8b5cf666}[data-theme=dark][_nghost-%COMP%]   .language-option.active[_ngcontent-%COMP%]:hover, [data-theme=dark]   [_nghost-%COMP%]   .language-option.active[_ngcontent-%COMP%]:hover{background:var(--color-brand-primary, #8b5cf6);filter:brightness(1.15)}@keyframes _ngcontent-%COMP%_dropdown-entrance{0%{opacity:0;transform:translateY(-8px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_backdrop-fade-in{0%{opacity:0}to{opacity:1}}'],changeDetection:0})};export{N as LanguageSwitcherComponent};
